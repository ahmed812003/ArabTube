2024-05-26 00:15:45.455 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:15:45.498 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:15:45.500 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:15:45.500 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:15:45.526 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 00:15:45.537 +03:00 [INF] Applying migration '20240525211512_AddingVideosLikesTable'.
2024-05-26 00:15:45.624 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosLikes] (
    [VideoId] nvarchar(450) NOT NULL,
    [AppUserId] nvarchar(450) NOT NULL,
    [UserId] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_VideosLikes] PRIMARY KEY ([AppUserId], [VideoId]),
    CONSTRAINT [FK_VideosLikes_AspNetUsers_AppUserId] FOREIGN KEY ([AppUserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosLikes_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 00:15:45.625 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosLikes_VideoId] ON [VideosLikes] ([VideoId]);
2024-05-26 00:15:45.627 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240525211512_AddingVideosLikesTable', N'8.0.3');
2024-05-26 00:33:13.183 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:33:13.234 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:33:13.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:33:13.236 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:33:13.245 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 00:33:13.256 +03:00 [INF] No migrations were applied. The database is already up to date.
2024-05-26 00:33:23.790 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:33:23.826 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:33:23.833 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 00:33:41.422 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:33:41.456 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:33:41.457 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:33:41.458 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:33:41.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 00:33:41.479 +03:00 [INF] Reverting migration '20240525211512_AddingVideosLikesTable'.
2024-05-26 00:33:41.521 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [VideosLikes];
2024-05-26 00:33:41.522 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [__EFMigrationsHistory]
WHERE [MigrationId] = N'20240525211512_AddingVideosLikesTable';
2024-05-26 00:33:47.007 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:33:47.046 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:33:47.052 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 00:34:39.326 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:34:39.361 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:34:39.363 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:34:39.363 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:34:39.372 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 00:34:39.380 +03:00 [INF] Applying migration '20240525213357_AddingVideosLikesTable'.
2024-05-26 00:34:39.436 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosLikes] (
    [VideoId] nvarchar(450) NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosLikes] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosLikes_AspNetUsers_AppUserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosLikes_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 00:34:39.437 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosLikes_VideoId] ON [VideosLikes] ([VideoId]);
2024-05-26 00:34:39.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240525213357_AddingVideosLikesTable', N'8.0.3');
2024-05-26 00:53:18.509 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:53:18.544 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:53:18.553 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 00:53:54.625 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:53:54.663 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:53:54.664 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 00:53:54.664 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 00:53:54.673 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 00:53:54.682 +03:00 [INF] Applying migration '20240525215333_AddingVideosDisLikesTable'.
2024-05-26 00:53:54.740 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosDislikes] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosDislikes] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosDislikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosDislikes_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 00:53:54.741 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosDislikes_VideoId] ON [VideosDislikes] ([VideoId]);
2024-05-26 00:53:54.743 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240525215333_AddingVideosDisLikesTable', N'8.0.3');
2024-05-26 01:34:32.451 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 01:34:32.488 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 01:34:32.490 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 01:34:32.490 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 01:34:32.500 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 01:34:32.510 +03:00 [INF] Applying migration '20240525223413_AddingVideosFlagsTable'.
2024-05-26 01:34:32.572 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosFlags] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosFlags] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosFlags_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosFlags_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 01:34:32.574 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosFlags_VideoId] ON [VideosFlags] ([VideoId]);
2024-05-26 01:34:32.575 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240525223413_AddingVideosFlagsTable', N'8.0.3');
2024-05-26 02:01:48.186 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 02:01:48.366 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 02:01:48.366 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 02:01:48.367 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 02:01:48.367 +03:00 [INF] Hosting environment: Development
2024-05-26 02:01:48.368 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 02:01:50.804 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 02:01:51.144 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 352.0179ms
2024-05-26 02:01:51.197 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 02:01:51.204 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.0079ms
2024-05-26 02:01:51.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 02:01:51.287 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.5456ms
2024-05-26 02:01:51.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 02:01:51.671 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.6918ms
2024-05-26 15:37:51.241 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 15:37:51.314 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 15:37:51.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 15:37:51.316 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 15:37:51.339 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 15:37:51.349 +03:00 [INF] Applying migration '20240526123722_AddingCommentsLikesTable'.
2024-05-26 15:37:51.438 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CommentsLikes] (
    [UserId] nvarchar(450) NOT NULL,
    [CommentId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_CommentsLikes] PRIMARY KEY ([CommentId], [UserId]),
    CONSTRAINT [FK_CommentsLikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_CommentsLikes_Comments_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comments] ([Id]) ON DELETE CASCADE
);
2024-05-26 15:37:51.440 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CommentsLikes_UserId] ON [CommentsLikes] ([UserId]);
2024-05-26 15:37:51.441 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240526123722_AddingCommentsLikesTable', N'8.0.3');
2024-05-26 15:52:42.290 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 15:52:42.326 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 15:52:42.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 15:52:42.328 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 15:52:42.337 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 15:52:42.346 +03:00 [INF] Applying migration '20240526125224_AddingCommentsDislikesTable'.
2024-05-26 15:52:42.412 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CommentsDislikes] (
    [UserId] nvarchar(450) NOT NULL,
    [CommentId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_CommentsDislikes] PRIMARY KEY ([CommentId], [UserId]),
    CONSTRAINT [FK_CommentsDislikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_CommentsDislikes_Comments_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comments] ([Id]) ON DELETE CASCADE
);
2024-05-26 15:52:42.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CommentsDislikes_UserId] ON [CommentsDislikes] ([UserId]);
2024-05-26 15:52:42.415 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240526125224_AddingCommentsDislikesTable', N'8.0.3');
2024-05-26 15:59:52.142 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 15:59:52.376 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 15:59:52.376 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 15:59:52.377 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 15:59:52.377 +03:00 [INF] Hosting environment: Development
2024-05-26 15:59:52.377 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 15:59:56.136 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 15:59:56.431 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 300.7808ms
2024-05-26 15:59:56.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 15:59:56.491 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.5352ms
2024-05-26 15:59:56.529 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 15:59:56.591 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.0168ms
2024-05-26 15:59:56.846 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 15:59:57.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.4963ms
2024-05-26 16:07:47.156 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 16:07:47.317 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 16:07:47.317 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 16:07:47.318 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 16:07:47.318 +03:00 [INF] Hosting environment: Development
2024-05-26 16:07:47.319 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 16:07:47.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 16:07:47.815 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 163.4568ms
2024-05-26 16:07:47.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 16:07:47.851 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.0999ms
2024-05-26 16:07:47.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 16:07:47.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.5926ms
2024-05-26 16:07:48.211 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 16:07:48.322 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.8952ms
2024-05-26 16:22:38.585 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 16:22:38.622 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 16:22:38.623 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 16:22:38.624 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 16:22:38.633 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 16:22:38.643 +03:00 [INF] Applying migration '20240526132158_AddingSavePlaylistSelfRealtionship'.
2024-05-26 16:22:38.699 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD [ParentPlaylistId] nvarchar(450) NOT NULL DEFAULT N'';
2024-05-26 16:22:38.701 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Playlists_ParentPlaylistId] ON [Playlists] ([ParentPlaylistId]);
2024-05-26 16:22:38.705 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD CONSTRAINT [FK_Playlists_Playlists_ParentPlaylistId] FOREIGN KEY ([ParentPlaylistId]) REFERENCES [Playlists] ([Id]) ON DELETE CASCADE;
2024-05-26 16:22:54.535 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 16:22:54.571 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 16:22:54.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 16:22:54.573 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 16:22:54.581 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 16:22:54.590 +03:00 [INF] Applying migration '20240526132158_AddingSavePlaylistSelfRealtionship'.
2024-05-26 16:22:54.641 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD [ParentPlaylistId] nvarchar(450) NOT NULL DEFAULT N'';
2024-05-26 16:22:54.643 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Playlists_ParentPlaylistId] ON [Playlists] ([ParentPlaylistId]);
2024-05-26 16:22:54.644 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD CONSTRAINT [FK_Playlists_Playlists_ParentPlaylistId] FOREIGN KEY ([ParentPlaylistId]) REFERENCES [Playlists] ([Id]);
2024-05-26 16:22:54.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240526132158_AddingSavePlaylistSelfRealtionship', N'8.0.3');
2024-05-26 16:53:53.784 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 16:53:53.959 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 16:53:53.959 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 16:53:53.961 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 16:53:53.961 +03:00 [INF] Hosting environment: Development
2024-05-26 16:53:53.961 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 16:53:54.475 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 16:53:54.663 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 191.2572ms
2024-05-26 16:53:54.700 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 16:53:54.709 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 9.0288ms
2024-05-26 16:53:54.748 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 16:53:56.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2005.4215ms
2024-05-26 16:53:56.793 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 16:53:56.889 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.579ms
2024-05-26 16:54:40.747 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 16:54:40.758 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 12.5282ms
2024-05-26 16:54:40.770 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/swagger-ui.css - null null
2024-05-26 16:54:40.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/swagger-ui-bundle.js - null null
2024-05-26 16:54:40.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/swagger-ui-standalone-preset.js - null null
2024-05-26 16:54:40.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 16:54:40.773 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.5752ms
2024-05-26 16:54:40.781 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 16:54:40.788 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.2246ms
2024-05-26 16:54:40.828 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-26 16:54:40.828 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-26 16:54:40.829 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 55.828ms
2024-05-26 16:54:40.829 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/swagger-ui.css - 200 143943 text/css 59.1341ms
2024-05-26 16:54:40.842 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-26 16:54:40.842 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 69.9614ms
2024-05-26 16:54:41.157 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 16:54:41.166 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.9349ms
2024-05-26 16:54:41.268 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/favicon-32x32.png - null null
2024-05-26 16:54:41.269 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-26 16:54:41.269 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/favicon-32x32.png - 200 628 image/png 0.6027ms
2024-05-26 16:56:17.239 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Register - application/json 233
2024-05-26 16:56:17.546 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 16:56:17.567 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ArabTube.Entities.DtoModels.UserDTOs.RegisterDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 16:56:19.923 +03:00 [INF] Executed DbCommand (84ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 16:56:19.959 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:56:20.089 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:56:20.257 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 250), @p7='?' (DbType = Boolean), @p8='?' (Size = 250), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [BirthDate], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-05-26 16:56:20.288 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 16:56:20.329 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-26 16:56:20.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 16:56:20.347 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:56:20.378 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p21='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (Size = 250), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [BirthDate] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [Gender] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-05-26 16:56:20.484 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api) in 2914.6766ms
2024-05-26 16:56:20.485 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 16:56:20.487 +03:00 [ERR] HTTP POST /api/Account/Register responded 500 in 3244.4210 ms
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at ArabTube.Services.ControllersServices.EmailServices.ImplementationClasses.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\EmailServices\ImplementationClasses\EmailSender.cs:line 33
   at ArabTube.Api.Controllers.AccountController.Register(RegisterDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\AccountController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 16:56:20.504 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at ArabTube.Services.ControllersServices.EmailServices.ImplementationClasses.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\EmailServices\ImplementationClasses\EmailSender.cs:line 33
   at ArabTube.Api.Controllers.AccountController.Register(RegisterDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\AccountController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 16:56:20.514 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Register - 500 null text/plain; charset=utf-8 3274.9584ms
2024-05-26 16:56:54.595 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 16:56:54.605 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 10.6032ms
2024-05-26 16:56:54.670 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 16:56:54.672 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.7227ms
2024-05-26 16:56:54.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 16:56:54.719 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 7.3269ms
2024-05-26 16:56:55.012 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 16:56:55.021 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.9232ms
2024-05-26 16:57:48.332 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Register - application/json 233
2024-05-26 16:57:48.342 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 16:57:48.342 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ArabTube.Entities.DtoModels.UserDTOs.RegisterDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 16:57:48.393 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 16:57:48.394 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:57:48.466 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:57:48.471 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 250), @p7='?' (DbType = Boolean), @p8='?' (Size = 250), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [BirthDate], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-05-26 16:57:48.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 16:57:48.474 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-26 16:57:48.474 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 16:57:48.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:57:48.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p21='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (Size = 250), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [BirthDate] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [Gender] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-05-26 16:57:53.062 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 16:57:53.062 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api) in 4719.7848ms
2024-05-26 16:57:53.062 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 16:57:53.062 +03:00 [INF] HTTP POST /api/Account/Register responded 200 in 4721.5534 ms
2024-05-26 16:57:53.062 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Register - 200 null text/plain; charset=utf-8 4733.7421ms
2024-05-26 16:59:55.076 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Register - application/json 233
2024-05-26 16:59:55.084 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 16:59:55.084 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ArabTube.Entities.DtoModels.UserDTOs.RegisterDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 16:59:55.109 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 16:59:55.110 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:59:55.182 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:59:55.184 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 250), @p7='?' (DbType = Boolean), @p8='?' (Size = 250), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [BirthDate], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-05-26 16:59:55.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 16:59:55.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-26 16:59:55.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 16:59:55.194 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 16:59:55.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p21='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (Size = 250), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [BirthDate] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [Gender] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-05-26 16:59:57.128 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 16:59:57.128 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api) in 2043.5447ms
2024-05-26 16:59:57.128 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 16:59:57.128 +03:00 [INF] HTTP POST /api/Account/Register responded 200 in 2045.5874 ms
2024-05-26 16:59:57.128 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Register - 200 null text/plain; charset=utf-8 2053.0883ms
2024-05-26 17:00:39.038 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - application/json 26
2024-05-26 17:00:39.039 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 17:00:39.046 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(ArabTube.Entities.DtoModels.UserDTOs.EmailConfirmationDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 17:00:39.057 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 17:00:39.092 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:00:39.097 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p19='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 250), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [BirthDate] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [Gender] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-26 17:00:39.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[IsDefult] = CAST(1 AS bit)
2024-05-26 17:00:39.149 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 450), @p12='?' (Size = 4000), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-05-26 17:00:39.158 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ParentPlaylistId', table 'ArabTube.Db.dbo.Playlists'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:89faa6be-0ad5-407e-a5a0-6763d32a3f85
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ParentPlaylistId', table 'ArabTube.Db.dbo.Playlists'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:89faa6be-0ad5-407e-a5a0-6763d32a3f85
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-26 17:00:39.304 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api) in 257.7523ms
2024-05-26 17:00:39.304 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 17:00:39.304 +03:00 [ERR] HTTP POST /api/Account/ConfirmEmail responded 500 in 265.9452 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ParentPlaylistId', table 'ArabTube.Db.dbo.Playlists'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:89faa6be-0ad5-407e-a5a0-6763d32a3f85
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.CreateDefultPlaylistsAsync(String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 222
   at ArabTube.Api.Controllers.AccountController.ConfirmEmail(EmailConfirmationDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\AccountController.cs:line 75
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 17:00:39.306 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ParentPlaylistId', table 'ArabTube.Db.dbo.Playlists'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:89faa6be-0ad5-407e-a5a0-6763d32a3f85
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.CreateDefultPlaylistsAsync(String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 222
   at ArabTube.Api.Controllers.AccountController.ConfirmEmail(EmailConfirmationDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\AccountController.cs:line 75
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 17:00:39.309 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - 500 null text/plain; charset=utf-8 271.2644ms
2024-05-26 17:02:46.930 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 17:02:47.091 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 17:02:47.092 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 17:02:47.093 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 17:02:47.093 +03:00 [INF] Hosting environment: Development
2024-05-26 17:02:47.093 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 17:02:47.490 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 17:02:47.634 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 146.2983ms
2024-05-26 17:02:47.688 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 17:02:47.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.8683ms
2024-05-26 17:02:47.726 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 17:02:47.757 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.0858ms
2024-05-26 17:02:48.127 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 17:02:48.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.9841ms
2024-05-26 17:03:05.571 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/ResendEmailConfirmation - application/json 36
2024-05-26 17:03:05.604 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.ResendEmailConfirmation (ArabTube.Api)'
2024-05-26 17:03:05.620 +03:00 [INF] Route matched with {action = "ResendEmailConfirmation", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendEmailConfirmation(ArabTube.Entities.DtoModels.UserDTOs.ResendEmailConfirmationDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 17:03:06.935 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 17:05:58.758 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 17:05:58.916 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 17:05:58.916 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 17:05:58.917 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 17:05:58.917 +03:00 [INF] Hosting environment: Development
2024-05-26 17:05:58.917 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 17:05:59.128 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 17:05:59.271 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 145.0857ms
2024-05-26 17:05:59.304 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 17:05:59.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.3047ms
2024-05-26 17:05:59.342 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 17:05:59.376 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.4598ms
2024-05-26 17:05:59.743 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 17:05:59.848 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.9405ms
2024-05-26 17:06:15.177 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/ResendEmailConfirmation - application/json 36
2024-05-26 17:06:15.214 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.ResendEmailConfirmation (ArabTube.Api)'
2024-05-26 17:06:15.233 +03:00 [INF] Route matched with {action = "ResendEmailConfirmation", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendEmailConfirmation(ArabTube.Entities.DtoModels.UserDTOs.ResendEmailConfirmationDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 17:06:16.666 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 17:06:20.480 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:06:20.484 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.ResendEmailConfirmation (ArabTube.Api) in 5247.7194ms
2024-05-26 17:06:20.485 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.ResendEmailConfirmation (ArabTube.Api)'
2024-05-26 17:06:20.487 +03:00 [INF] HTTP POST /api/Account/ResendEmailConfirmation responded 200 in 5304.9626 ms
2024-05-26 17:06:20.491 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/ResendEmailConfirmation - 200 null text/plain; charset=utf-8 5314.4626ms
2024-05-26 17:06:47.129 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - application/json 26
2024-05-26 17:06:47.137 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 17:06:47.140 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(ArabTube.Entities.DtoModels.UserDTOs.EmailConfirmationDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 17:06:47.223 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 17:06:47.244 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:06:47.338 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p19='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 250), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [BirthDate] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [Gender] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-26 17:06:47.357 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[IsDefult] = CAST(1 AS bit)
2024-05-26 17:06:47.417 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 450), @p12='?' (Size = 4000), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-05-26 17:06:47.418 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:06:47.418 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api) in 277.7815ms
2024-05-26 17:06:47.418 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 17:06:47.418 +03:00 [INF] HTTP POST /api/Account/ConfirmEmail responded 200 in 282.5321 ms
2024-05-26 17:06:47.418 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - 200 null text/plain; charset=utf-8 289.3551ms
2024-05-26 17:06:56.427 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 17:06:56.437 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 10.3494ms
2024-05-26 17:06:56.495 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 17:06:56.498 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.2901ms
2024-05-26 17:06:56.522 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 17:06:56.533 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 11.3685ms
2024-05-26 17:06:56.826 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 17:06:56.840 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.8865ms
2024-05-26 17:07:15.017 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/ResendEmailConfirmation - application/json 38
2024-05-26 17:07:15.018 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.ResendEmailConfirmation (ArabTube.Api)'
2024-05-26 17:07:15.019 +03:00 [INF] Route matched with {action = "ResendEmailConfirmation", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResendEmailConfirmation(ArabTube.Entities.DtoModels.UserDTOs.ResendEmailConfirmationDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 17:07:15.042 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 17:07:16.979 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:07:16.979 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.ResendEmailConfirmation (ArabTube.Api) in 1960.6173ms
2024-05-26 17:07:16.980 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.ResendEmailConfirmation (ArabTube.Api)'
2024-05-26 17:07:16.980 +03:00 [INF] HTTP POST /api/Account/ResendEmailConfirmation responded 200 in 1962.7084 ms
2024-05-26 17:07:16.980 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/ResendEmailConfirmation - 200 null text/plain; charset=utf-8 1963.5804ms
2024-05-26 17:07:46.765 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - application/json 26
2024-05-26 17:07:46.773 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 17:07:46.775 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(ArabTube.Entities.DtoModels.UserDTOs.EmailConfirmationDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 17:07:46.779 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 17:07:46.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:07:46.784 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p19='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 250), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [BirthDate] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [Gender] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-26 17:07:46.792 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[IsDefult] = CAST(1 AS bit)
2024-05-26 17:07:46.794 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 450), @p12='?' (Size = 4000), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-05-26 17:07:46.794 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:07:46.794 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api) in 18.8549ms
2024-05-26 17:07:46.794 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 17:07:46.794 +03:00 [INF] HTTP POST /api/Account/ConfirmEmail responded 200 in 28.2733 ms
2024-05-26 17:07:46.794 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - 200 null text/plain; charset=utf-8 29.6131ms
2024-05-26 17:09:13.191 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Login - application/json 65
2024-05-26 17:09:13.191 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api)'
2024-05-26 17:09:13.194 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ArabTube.Entities.DtoModels.UserDTOs.LoginDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 17:09:13.199 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 17:09:13.308 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-26 17:09:13.330 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-26 17:09:13.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-26 17:09:13.410 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.AuthModels.AuthResult'.
2024-05-26 17:09:13.416 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api) in 222.199ms
2024-05-26 17:09:13.416 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api)'
2024-05-26 17:09:13.416 +03:00 [INF] HTTP POST /api/Account/Login responded 200 in 225.1201 ms
2024-05-26 17:09:13.417 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Login - 200 null application/json; charset=utf-8 225.606ms
2024-05-26 17:09:37.846 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 17:09:37.886 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 17:09:37.888 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 17:09:37.892 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:09:37.898 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 17:09:37.907 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 17:09:37.909 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 20.1501ms
2024-05-26 17:09:37.909 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 17:09:37.909 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 61.9521 ms
2024-05-26 17:09:37.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 62.8058ms
2024-05-26 17:09:55.135 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/Videos - null null
2024-05-26 17:09:55.137 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api)'
2024-05-26 17:09:55.139 +03:00 [INF] Route matched with {action = "PreviewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewVideo() on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:09:55.161 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
2024-05-26 17:09:55.162 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 17:09:55.162 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api) in 22.6327ms
2024-05-26 17:09:55.162 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api)'
2024-05-26 17:09:55.162 +03:00 [INF] HTTP GET /api/Videos/Videos responded 400 in 26.1673 ms
2024-05-26 17:09:55.162 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/Videos - 400 null text/plain; charset=utf-8 26.7915ms
2024-05-26 17:11:03.581 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundaryVUI2divsB3zWS0Ne 6473455
2024-05-26 17:11:03.587 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:11:03.592 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:11:03.798 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:11:03.917 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 324.4279ms
2024-05-26 17:11:03.917 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:11:03.918 +03:00 [ERR] HTTP POST /api/Videos/Upload responded 500 in 333.6626 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
UploadingVideoDto -> Video
ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto -> ArabTube.Entities.Models.Video

Type Map configuration:
UploadingVideoDto -> Video
ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto -> ArabTube.Entities.Models.Video

Destination Member:
Thumbnail

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
FormFile -> Byte[]
Microsoft.AspNetCore.Http.FormFile -> System.Byte[]

Destination Member:
Thumbnail

   at lambda_method522(Closure, IFormFile, Byte[], ResolutionContext)
   at lambda_method521(Closure, Object, Video, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method521(Closure, Object, Video, ResolutionContext)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.UploadVideoAsync(UploadingVideoDto model, String userName, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\VideoServices\ImplementationClasses\VideoService.cs:line 179
   at ArabTube.Api.Controllers.VideosController.UploadVideo(UploadingVideoDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 199
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 17:11:03.935 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
UploadingVideoDto -> Video
ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto -> ArabTube.Entities.Models.Video

Type Map configuration:
UploadingVideoDto -> Video
ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto -> ArabTube.Entities.Models.Video

Destination Member:
Thumbnail

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
FormFile -> Byte[]
Microsoft.AspNetCore.Http.FormFile -> System.Byte[]

Destination Member:
Thumbnail

   at lambda_method522(Closure, IFormFile, Byte[], ResolutionContext)
   at lambda_method521(Closure, Object, Video, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method521(Closure, Object, Video, ResolutionContext)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.UploadVideoAsync(UploadingVideoDto model, String userName, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\VideoServices\ImplementationClasses\VideoService.cs:line 179
   at ArabTube.Api.Controllers.VideosController.UploadVideo(UploadingVideoDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 199
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 17:11:03.946 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 500 null text/plain; charset=utf-8 366.0589ms
2024-05-26 17:24:09.703 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 17:24:09.865 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 17:24:09.865 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 17:24:09.866 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 17:24:09.867 +03:00 [INF] Hosting environment: Development
2024-05-26 17:24:09.867 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 17:24:12.669 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 17:24:12.833 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 168.5952ms
2024-05-26 17:24:12.870 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 17:24:12.873 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.6133ms
2024-05-26 17:24:12.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 17:24:12.935 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 30.0168ms
2024-05-26 17:24:13.213 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 17:24:13.320 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.4935ms
2024-05-26 17:25:13.677 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundaryBqaaV742Od4Aq0vl 6473444
2024-05-26 17:25:13.739 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-26 17:25:13.741 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-26 17:25:13.743 +03:00 [INF] HTTP POST /api/Videos/Upload responded 401 in 35.4400 ms
2024-05-26 17:25:13.743 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 401 0 null 66.5029ms
2024-05-26 17:25:13.745 +03:00 [INF] Connection id "0HN3THU18E2UE", Request id "0HN3THU18E2UE:00000009": the application completed without reading the entire request body.
2024-05-26 17:25:38.782 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundaryyWvqpx0SZAcf0QjV 6473444
2024-05-26 17:25:38.850 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:25:38.866 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:25:40.318 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:25:40.559 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 17:25:40.570 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:25:40.574 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 1705.0196ms
2024-05-26 17:25:40.575 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:25:40.575 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 1774.1434 ms
2024-05-26 17:25:40.583 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 1800.7489ms
2024-05-26 17:25:54.811 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundaryYrtHnGkrLuB7uXyg 6473445
2024-05-26 17:25:54.815 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:25:54.816 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:25:54.947 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:25:54.956 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 17:25:54.957 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:25:54.957 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 141.5729ms
2024-05-26 17:25:54.957 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:25:54.957 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 146.1714 ms
2024-05-26 17:25:54.959 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 148.7395ms
2024-05-26 17:26:14.477 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundary7tHOPXghWmPyWcQ2 6473452
2024-05-26 17:26:14.478 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:26:14.479 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:26:14.582 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:26:14.587 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 17:26:14.587 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:26:14.587 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 108.5862ms
2024-05-26 17:26:14.587 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:26:14.587 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 109.1786 ms
2024-05-26 17:26:14.589 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 111.6943ms
2024-05-26 17:26:35.392 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundaryPXGdXx6Cp6xuBHge 6473444
2024-05-26 17:26:35.397 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:26:35.397 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:26:35.484 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:26:35.542 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 17:26:35.543 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:26:35.543 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 146.3823ms
2024-05-26 17:26:35.544 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:26:35.544 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 150.9118 ms
2024-05-26 17:26:35.550 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 157.6747ms
2024-05-26 17:26:50.124 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundarymzNIM763gB8fxY03 6473452
2024-05-26 17:26:50.128 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:26:50.128 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:26:50.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:26:50.237 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 17:26:50.238 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:26:50.239 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 110.1021ms
2024-05-26 17:26:50.239 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 17:26:50.239 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 113.4246 ms
2024-05-26 17:26:50.245 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 120.3052ms
2024-05-26 17:29:01.761 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/searchTitles?query=s - null null
2024-05-26 17:29:01.764 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.SearchVideoTitles (ArabTube.Api)'
2024-05-26 17:29:01.771 +03:00 [INF] Route matched with {action = "SearchVideoTitles", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideoTitles(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:29:01.794 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_0_contains='?' (Size = 256), @__query_0_contains_1='?' (Size = 2000)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Title]
FROM [Videos] AS [v]
WHERE [v].[Title] LIKE @__query_0_contains ESCAPE N'\' OR [v].[Description] LIKE @__query_0_contains_1 ESCAPE N'\'
2024-05-26 17:29:01.797 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-26 17:29:01.800 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.SearchVideoTitles (ArabTube.Api) in 28.9199ms
2024-05-26 17:29:01.800 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.SearchVideoTitles (ArabTube.Api)'
2024-05-26 17:29:01.800 +03:00 [INF] HTTP GET /api/Videos/searchTitles responded 200 in 38.1661 ms
2024-05-26 17:29:01.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/searchTitles?query=s - 200 null application/json; charset=utf-8 38.6683ms
2024-05-26 17:29:27.302 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/search?query=stl - null null
2024-05-26 17:29:27.306 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.SearchVideos (ArabTube.Api)'
2024-05-26 17:29:27.310 +03:00 [INF] Route matched with {action = "SearchVideos", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:29:27.367 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__query_0_contains='?' (Size = 256), @__query_0_contains_1='?' (Size = 2000)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Title] LIKE @__query_0_contains ESCAPE N'\' OR [v].[Description] LIKE @__query_0_contains_1 ESCAPE N'\'
2024-05-26 17:29:27.430 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.VideoDTOs.VideoPreviewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 17:29:27.441 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.SearchVideos (ArabTube.Api) in 131.3448ms
2024-05-26 17:29:27.441 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.SearchVideos (ArabTube.Api)'
2024-05-26 17:29:27.441 +03:00 [INF] HTTP GET /api/Videos/search responded 200 in 139.6508 ms
2024-05-26 17:29:27.442 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/search?query=stl - 200 null application/json; charset=utf-8 140.0016ms
2024-05-26 17:29:43.174 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/Videos - null null
2024-05-26 17:29:43.175 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api)'
2024-05-26 17:29:43.178 +03:00 [INF] Route matched with {action = "PreviewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewVideo() on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:29:43.197 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
2024-05-26 17:29:43.201 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.VideoDTOs.VideoPreviewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 17:29:43.205 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api) in 27.3279ms
2024-05-26 17:29:43.205 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api)'
2024-05-26 17:29:43.205 +03:00 [INF] HTTP GET /api/Videos/Videos responded 200 in 31.0306 ms
2024-05-26 17:29:43.206 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/Videos - 200 null application/json; charset=utf-8 31.4756ms
2024-05-26 17:30:13.048 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/Video?id=1 - null null
2024-05-26 17:30:13.062 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api)'
2024-05-26 17:30:13.065 +03:00 [INF] Route matched with {action = "WatchVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:30:13.080 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 17:30:13.080 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 17:30:13.081 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api) in 15.069ms
2024-05-26 17:30:13.081 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api)'
2024-05-26 17:30:13.081 +03:00 [INF] HTTP GET /api/Videos/Video responded 400 in 32.6475 ms
2024-05-26 17:30:13.081 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/Video?id=1 - 400 null text/plain; charset=utf-8 33.5811ms
2024-05-26 17:30:33.645 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/Video?id=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 17:30:33.646 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api)'
2024-05-26 17:30:33.646 +03:00 [INF] Route matched with {action = "WatchVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:30:33.649 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 17:30:33.655 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.VideoDTOs.ViewVideoDto'.
2024-05-26 17:30:33.659 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api) in 13.3683ms
2024-05-26 17:30:33.660 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api)'
2024-05-26 17:30:33.660 +03:00 [INF] HTTP GET /api/Videos/Video responded 200 in 14.3453 ms
2024-05-26 17:30:33.660 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/Video?id=6e234352-bec8-4df0-9f44-201a21decbd4 - 200 null application/json; charset=utf-8 14.6733ms
2024-05-26 17:30:54.200 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=57fa4164-85d9-4634-83de-4a22fe8939f7 - null null
2024-05-26 17:30:54.200 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 17:30:54.203 +03:00 [INF] Route matched with {action = "UserVideos", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserVideos(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:30:54.217 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 17:30:54.221 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views]
FROM [Videos] AS [v]
WHERE [v].[UserId] = @__userId_0
2024-05-26 17:30:54.225 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 17:30:54.225 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api) in 21.6206ms
2024-05-26 17:30:54.225 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 17:30:54.225 +03:00 [INF] HTTP GET /api/Videos/UserVideo responded 400 in 24.8795 ms
2024-05-26 17:30:54.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=57fa4164-85d9-4634-83de-4a22fe8939f7 - 400 null text/plain; charset=utf-8 25.1667ms
2024-05-26 17:31:13.845 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=57fa4164-85d9-4634-83de-4a22fe8939f7 - null null
2024-05-26 17:31:13.845 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 17:31:13.845 +03:00 [INF] Route matched with {action = "UserVideos", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserVideos(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:31:13.848 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 17:31:13.849 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views]
FROM [Videos] AS [v]
WHERE [v].[UserId] = @__userId_0
2024-05-26 17:31:13.852 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 17:31:13.852 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api) in 6.9321ms
2024-05-26 17:31:13.852 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 17:31:13.852 +03:00 [INF] HTTP GET /api/Videos/UserVideo responded 400 in 7.3442 ms
2024-05-26 17:31:13.852 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=57fa4164-85d9-4634-83de-4a22fe8939f7 - 400 null text/plain; charset=utf-8 7.7293ms
2024-05-26 17:32:22.081 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 17:32:22.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 18.2589ms
2024-05-26 17:32:22.191 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 17:32:22.192 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.3274ms
2024-05-26 17:32:22.209 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 17:32:22.229 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 20.2997ms
2024-05-26 17:32:22.600 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 17:32:22.610 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.4853ms
2024-05-26 17:32:44.677 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=57fa4164-85d9-4634-83de-4a22fe8939f7 - null null
2024-05-26 17:32:44.683 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 17:32:44.687 +03:00 [INF] Route matched with {action = "UserVideos", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserVideos(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:32:44.693 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 17:32:44.695 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views]
FROM [Videos] AS [v]
WHERE [v].[UserId] = @__userId_0
2024-05-26 17:32:44.698 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.VideoDTOs.VideoPreviewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 17:32:44.705 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api) in 17.7831ms
2024-05-26 17:32:44.705 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 17:32:44.705 +03:00 [INF] HTTP GET /api/Videos/UserVideo responded 200 in 25.0362 ms
2024-05-26 17:32:44.705 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=57fa4164-85d9-4634-83de-4a22fe8939f7 - 200 null application/json; charset=utf-8 28.2814ms
2024-05-26 17:33:31.068 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=57fa4164-85d9-4634-83de-4a22fe8939f7 - null null
2024-05-26 17:33:31.074 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 17:33:31.075 +03:00 [INF] Route matched with {action = "UserVideos", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserVideos(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:33:31.079 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 17:33:31.083 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views]
FROM [Videos] AS [v]
WHERE [v].[UserId] = @__userId_0
2024-05-26 17:33:31.087 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.VideoDTOs.VideoPreviewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 17:33:31.092 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api) in 17.3539ms
2024-05-26 17:33:31.093 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 17:33:31.093 +03:00 [INF] HTTP GET /api/Videos/UserVideo responded 200 in 18.4842 ms
2024-05-26 17:33:31.093 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=57fa4164-85d9-4634-83de-4a22fe8939f7 - 200 null application/json; charset=utf-8 39.0019ms
2024-05-26 17:33:40.531 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 17:33:40.532 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 17:33:40.535 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:33:40.539 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:33:40.543 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 17:33:40.553 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[AppUserId], [v].[VideoId], [v].[UserId]
FROM [VideosLikes] AS [v]
WHERE [v].[AppUserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 17:33:40.565 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:91cc0b89-f630-435e-a9be-fc211d5efcbe
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:91cc0b89-f630-435e-a9be-fc211d5efcbe
Error Number:207,State:1,Class:16
2024-05-26 17:33:40.696 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 160.9991ms
2024-05-26 17:33:40.696 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 17:33:40.697 +03:00 [ERR] HTTP GET /api/Videos/UserLike responded 500 in 164.9850 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:91cc0b89-f630-435e-a9be-fc211d5efcbe
Error Number:207,State:1,Class:16
2024-05-26 17:33:40.708 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:91cc0b89-f630-435e-a9be-fc211d5efcbe
Error Number:207,State:1,Class:16
2024-05-26 17:33:40.713 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - 500 null text/plain; charset=utf-8 181.9432ms
2024-05-26 17:34:25.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 17:34:25.238 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 17:34:25.239 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:34:25.243 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:34:25.245 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 17:34:25.251 +03:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[AppUserId], [v].[VideoId], [v].[UserId]
FROM [VideosLikes] AS [v]
WHERE [v].[AppUserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 17:34:25.252 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:91cc0b89-f630-435e-a9be-fc211d5efcbe
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:91cc0b89-f630-435e-a9be-fc211d5efcbe
Error Number:207,State:1,Class:16
2024-05-26 17:34:25.347 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 108.6179ms
2024-05-26 17:34:25.347 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 17:34:25.348 +03:00 [ERR] HTTP GET /api/Videos/UserLike responded 500 in 112.8802 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:91cc0b89-f630-435e-a9be-fc211d5efcbe
Error Number:207,State:1,Class:16
2024-05-26 17:34:25.350 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:91cc0b89-f630-435e-a9be-fc211d5efcbe
Error Number:207,State:1,Class:16
2024-05-26 17:34:25.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - 500 null text/plain; charset=utf-8 120.427ms
2024-05-26 17:40:33.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserDisLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 17:40:33.934 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api)'
2024-05-26 17:40:33.938 +03:00 [INF] Route matched with {action = "IsUserDisLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserDisLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:40:34.005 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:40:34.009 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 17:40:34.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosDislikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 17:40:34.017 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:40:34.017 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api) in 79.3612ms
2024-05-26 17:40:34.017 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api)'
2024-05-26 17:40:34.017 +03:00 [INF] HTTP GET /api/Videos/UserDisLike responded 200 in 112.4092 ms
2024-05-26 17:40:34.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserDisLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - 200 null text/plain; charset=utf-8 112.9402ms
2024-05-26 17:40:45.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserFlag?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 17:40:45.134 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserFlagVideo (ArabTube.Api)'
2024-05-26 17:40:45.137 +03:00 [INF] Route matched with {action = "IsUserFlagVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserFlagVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:40:45.140 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:40:45.142 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 17:40:45.148 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosFlags] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 17:40:45.148 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 17:40:45.148 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserFlagVideo (ArabTube.Api) in 11.3009ms
2024-05-26 17:40:45.148 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserFlagVideo (ArabTube.Api)'
2024-05-26 17:40:45.148 +03:00 [INF] HTTP GET /api/Videos/UserFlag responded 200 in 14.5441 ms
2024-05-26 17:40:45.148 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserFlag?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - 200 null text/plain; charset=utf-8 14.8509ms
2024-05-26 17:40:52.693 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 17:40:52.693 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 17:40:52.693 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:40:52.696 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:40:52.697 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 17:40:52.703 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[AppUserId], [v].[VideoId], [v].[UserId]
FROM [VideosLikes] AS [v]
WHERE [v].[AppUserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 17:40:52.704 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:30201c8a-0026-40de-9456-4385e6e478fa
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:30201c8a-0026-40de-9456-4385e6e478fa
Error Number:207,State:1,Class:16
2024-05-26 17:40:52.813 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 119.2165ms
2024-05-26 17:40:52.813 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 17:40:52.813 +03:00 [ERR] HTTP GET /api/Videos/UserLike responded 500 in 120.0618 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:30201c8a-0026-40de-9456-4385e6e478fa
Error Number:207,State:1,Class:16
2024-05-26 17:40:52.815 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:30201c8a-0026-40de-9456-4385e6e478fa
Error Number:207,State:1,Class:16
2024-05-26 17:40:52.818 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - 500 null text/plain; charset=utf-8 125.3147ms
2024-05-26 17:43:35.156 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 17:43:35.157 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 17:43:35.159 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 17:43:35.192 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 17:43:35.196 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 17:43:35.198 +03:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[AppUserId], [v].[VideoId], [v].[UserId]
FROM [VideosLikes] AS [v]
WHERE [v].[AppUserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 17:43:35.199 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:30201c8a-0026-40de-9456-4385e6e478fa
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:30201c8a-0026-40de-9456-4385e6e478fa
Error Number:207,State:1,Class:16
2024-05-26 17:43:35.297 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 138.0912ms
2024-05-26 17:43:35.298 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 17:43:35.298 +03:00 [ERR] HTTP GET /api/Videos/UserLike responded 500 in 141.3191 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:30201c8a-0026-40de-9456-4385e6e478fa
Error Number:207,State:1,Class:16
2024-05-26 17:43:35.299 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:30201c8a-0026-40de-9456-4385e6e478fa
Error Number:207,State:1,Class:16
2024-05-26 17:43:35.303 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - 500 null text/plain; charset=utf-8 146.8911ms
2024-05-26 19:11:31.699 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 19:11:31.761 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 62.2256ms
2024-05-26 19:11:31.849 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 19:11:31.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.5322ms
2024-05-26 19:11:31.857 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 19:11:31.865 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.6391ms
2024-05-26 19:11:32.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 19:11:36.269 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 4021.4467ms
2024-05-26 19:12:00.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 19:12:00.147 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:12:00.151 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:12:01.022 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:12:01.026 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:12:01.030 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[AppUserId], [v].[VideoId], [v].[UserId]
FROM [VideosLikes] AS [v]
WHERE [v].[AppUserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:12:01.031 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:58b2580e-aa91-4b0f-911c-b8fa1b4e809e
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:58b2580e-aa91-4b0f-911c-b8fa1b4e809e
Error Number:207,State:1,Class:16
2024-05-26 19:12:01.128 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 977.8721ms
2024-05-26 19:12:01.129 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:12:01.129 +03:00 [ERR] HTTP GET /api/Videos/UserLike responded 500 in 982.1276 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:58b2580e-aa91-4b0f-911c-b8fa1b4e809e
Error Number:207,State:1,Class:16
2024-05-26 19:12:01.131 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:58b2580e-aa91-4b0f-911c-b8fa1b4e809e
Error Number:207,State:1,Class:16
2024-05-26 19:12:01.135 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - 500 null text/plain; charset=utf-8 987.4047ms
2024-05-26 19:12:51.632 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 19:12:51.644 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 12.0712ms
2024-05-26 19:12:51.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 19:12:51.696 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 19:12:51.696 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.5954ms
2024-05-26 19:12:51.704 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 8.7039ms
2024-05-26 19:12:52.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 19:12:52.109 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.4699ms
2024-05-26 19:13:30.496 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - null null
2024-05-26 19:13:30.499 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:13:30.506 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:13:30.509 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:13:30.510 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:13:30.512 +03:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[AppUserId], [v].[VideoId], [v].[UserId]
FROM [VideosLikes] AS [v]
WHERE [v].[AppUserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:13:30.513 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:58b2580e-aa91-4b0f-911c-b8fa1b4e809e
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:58b2580e-aa91-4b0f-911c-b8fa1b4e809e
Error Number:207,State:1,Class:16
2024-05-26 19:13:30.604 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 98.2467ms
2024-05-26 19:13:30.604 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:13:30.604 +03:00 [ERR] HTTP GET /api/Videos/UserLike responded 500 in 107.6351 ms
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
ClientConnectionId:58b2580e-aa91-4b0f-911c-b8fa1b4e809e
Error Number:207,State:1,Class:16
2024-05-26 19:13:30.606 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'AppUserId'.
Invalid column name 'AppUserId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.VideoLikeRepository.CheckUserLikeVideoOrNotAsync(String userId, String videoId)
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.IsUserLikeVideoAsync(String videoId, String userId)
   at ArabTube.Api.Controllers.VideosController.IsUserLikeVideo(String videoId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 125
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:58b2580e-aa91-4b0f-911c-b8fa1b4e809e
Error Number:207,State:1,Class:16
2024-05-26 19:13:30.613 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=6e234352-bec8-4df0-9f44-201a21decbd4 - 500 null text/plain; charset=utf-8 116.7424ms
2024-05-26 19:24:44.614 +03:00 [INF] Executed DbCommand (251ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [ArabTube.Db];
2024-05-26 19:24:44.700 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [ArabTube.Db] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-05-26 19:24:44.713 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 19:24:44.756 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-05-26 19:24:44.757 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 19:24:44.767 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 19:24:44.770 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 19:24:44.779 +03:00 [INF] Applying migration '20240319193128_AddIdentityTabels'.
2024-05-26 19:24:44.811 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-05-26 19:24:44.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [FirstName] nvarchar(250) NOT NULL,
    [LastName] nvarchar(250) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-05-26 19:24:44.814 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:44.815 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:44.816 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:44.817 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:44.820 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:44.820 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-05-26 19:24:44.821 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-05-26 19:24:44.821 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-05-26 19:24:44.822 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-05-26 19:24:44.822 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-05-26 19:24:44.823 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-05-26 19:24:44.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-05-26 19:24:44.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240319193128_AddIdentityTabels', N'8.0.3');
2024-05-26 19:24:44.829 +03:00 [INF] Applying migration '20240319193451_SeedingRoles'.
2024-05-26 19:24:44.881 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'5c396c43-e7d1-4339-9fb5-456954a4d179', N'User', N'USER', N'fb5e93ef-75b7-4d85-ae20-a208817c3e27');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-05-26 19:24:44.888 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [Name], [NormalizedName], [ConcurrencyStamp])
VALUES (N'dca72d4e-c854-4785-8711-01efda2b35ed', N'Admin', N'ADMIN', N'c42feb2e-a20a-4def-87d7-d84c0b2eed5a');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Name', N'NormalizedName', N'ConcurrencyStamp') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-05-26 19:24:44.888 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240319193451_SeedingRoles', N'8.0.3');
2024-05-26 19:24:44.889 +03:00 [INF] Applying migration '20240330071328_UpdateUserTableByAddingGenderAndDateOfBirth'.
2024-05-26 19:24:44.902 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [BirthDate] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2024-05-26 19:24:44.903 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [AspNetUsers] ADD [Gender] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-05-26 19:24:44.903 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240330071328_UpdateUserTableByAddingGenderAndDateOfBirth', N'8.0.3');
2024-05-26 19:24:44.904 +03:00 [INF] Applying migration '20240330082457_AddingVideoTable'.
2024-05-26 19:24:44.917 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Videos] (
    [Id] nvarchar(450) NOT NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Url] nvarchar(max) NOT NULL,
    [Likes] int NOT NULL,
    [DisLikes] int NOT NULL,
    [Views] int NOT NULL,
    [Flags] int NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [UpdatedOn] datetime2 NOT NULL,
    CONSTRAINT [PK_Videos] PRIMARY KEY ([Id])
);
2024-05-26 19:24:44.917 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240330082457_AddingVideoTable', N'8.0.3');
2024-05-26 19:24:44.918 +03:00 [INF] Applying migration '20240424025005_AddingRelationBetweenAppUserAndVideoTables'.
2024-05-26 19:24:44.999 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Videos]') AND [c].[name] = N'Url');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Videos] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Videos] DROP COLUMN [Url];
2024-05-26 19:24:45.009 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Videos]') AND [c].[name] = N'Title');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Videos] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Videos] ALTER COLUMN [Title] nvarchar(256) NOT NULL;
2024-05-26 19:24:45.010 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Videos] ADD [ThumbnailUri] nvarchar(500) NOT NULL DEFAULT N'';
2024-05-26 19:24:45.011 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Videos] ADD [UserId] nvarchar(450) NOT NULL DEFAULT N'';
2024-05-26 19:24:45.012 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Videos] ADD [VideoUri] nvarchar(500) NOT NULL DEFAULT N'';
2024-05-26 19:24:45.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Videos_UserId] ON [Videos] ([UserId]);
2024-05-26 19:24:45.014 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Videos] ADD CONSTRAINT [FK_Videos_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-05-26 19:24:45.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240424025005_AddingRelationBetweenAppUserAndVideoTables', N'8.0.3');
2024-05-26 19:24:45.015 +03:00 [INF] Applying migration '20240429121637_UpdateThumbnailDataType'.
2024-05-26 19:24:45.040 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Videos]') AND [c].[name] = N'ThumbnailUri');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Videos] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Videos] DROP COLUMN [ThumbnailUri];
2024-05-26 19:24:45.050 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Videos]') AND [c].[name] = N'Description');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Videos] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Videos] ALTER COLUMN [Description] nvarchar(2000) NOT NULL;
2024-05-26 19:24:45.051 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Videos] ADD [Thumbnail] varbinary(max) NOT NULL DEFAULT 0x;
2024-05-26 19:24:45.051 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240429121637_UpdateThumbnailDataType', N'8.0.3');
2024-05-26 19:24:45.052 +03:00 [INF] Applying migration '20240513130620_AddingWatchedVideosTable'.
2024-05-26 19:24:45.067 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [WatchedVideos] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    [WatchedTime] datetime2 NOT NULL,
    CONSTRAINT [PK_WatchedVideos] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_WatchedVideos_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_WatchedVideos_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.068 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_WatchedVideos_VideoId] ON [WatchedVideos] ([VideoId]);
2024-05-26 19:24:45.068 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240513130620_AddingWatchedVideosTable', N'8.0.3');
2024-05-26 19:24:45.069 +03:00 [INF] Applying migration '20240513140202_AddingSubscribersTable'.
2024-05-26 19:24:45.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Subscribers] (
    [FollowerId] nvarchar(450) NOT NULL,
    [FollowingId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Subscribers] PRIMARY KEY ([FollowerId], [FollowingId]),
    CONSTRAINT [FK_Subscribers_AspNetUsers_FollowerId] FOREIGN KEY ([FollowerId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Subscribers_AspNetUsers_FollowingId] FOREIGN KEY ([FollowingId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Subscribers_FollowingId] ON [Subscribers] ([FollowingId]);
2024-05-26 19:24:45.087 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240513140202_AddingSubscribersTable', N'8.0.3');
2024-05-26 19:24:45.087 +03:00 [INF] Applying migration '20240513200342_AddingPlaylistTabel'.
2024-05-26 19:24:45.105 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Playlists] (
    [Id] nvarchar(450) NOT NULL,
    [Title] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [IsPrivate] bit NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Playlists] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Playlists_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.106 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Playlists_UserId] ON [Playlists] ([UserId]);
2024-05-26 19:24:45.106 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240513200342_AddingPlaylistTabel', N'8.0.3');
2024-05-26 19:24:45.107 +03:00 [INF] Applying migration '20240513224924_AddingVideoPlaylistRelation'.
2024-05-26 19:24:45.127 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PlaylistVideos] (
    [VideoId] nvarchar(450) NOT NULL,
    [PlaylistId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_PlaylistVideos] PRIMARY KEY ([PlaylistId], [VideoId]),
    CONSTRAINT [FK_PlaylistVideos_Playlists_PlaylistId] FOREIGN KEY ([PlaylistId]) REFERENCES [Playlists] ([Id]),
    CONSTRAINT [FK_PlaylistVideos_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.128 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PlaylistVideos_VideoId] ON [PlaylistVideos] ([VideoId]);
2024-05-26 19:24:45.128 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240513224924_AddingVideoPlaylistRelation', N'8.0.3');
2024-05-26 19:24:45.129 +03:00 [INF] Applying migration '20240514103804_AddingCommentAndUserRelationship'.
2024-05-26 19:24:45.149 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Comments] (
    [Id] nvarchar(450) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [CreatedOn] datetime2 NOT NULL,
    [Mention] nvarchar(max) NOT NULL,
    [IsUpdated] bit NOT NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comments_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id])
);
2024-05-26 19:24:45.150 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_UserId] ON [Comments] ([UserId]);
2024-05-26 19:24:45.150 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240514103804_AddingCommentAndUserRelationship', N'8.0.3');
2024-05-26 19:24:45.151 +03:00 [INF] Applying migration '20240514104300_AddingCommentAndVideoRelationship'.
2024-05-26 19:24:45.171 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] ADD [VideoId] nvarchar(450) NOT NULL DEFAULT N'';
2024-05-26 19:24:45.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_VideoId] ON [Comments] ([VideoId]);
2024-05-26 19:24:45.173 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] ADD CONSTRAINT [FK_Comments_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]);
2024-05-26 19:24:45.173 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240514104300_AddingCommentAndVideoRelationship', N'8.0.3');
2024-05-26 19:24:45.174 +03:00 [INF] Applying migration '20240514104828_AddingCommentAndRelaiedCommentSelfRelationship'.
2024-05-26 19:24:45.194 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] ADD [ParentCommentId] nvarchar(450) NOT NULL DEFAULT N'';
2024-05-26 19:24:45.195 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Comments_ParentCommentId] ON [Comments] ([ParentCommentId]);
2024-05-26 19:24:45.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] ADD CONSTRAINT [FK_Comments_Comments_ParentCommentId] FOREIGN KEY ([ParentCommentId]) REFERENCES [Comments] ([Id]);
2024-05-26 19:24:45.196 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240514104828_AddingCommentAndRelaiedCommentSelfRelationship', N'8.0.3');
2024-05-26 19:24:45.197 +03:00 [INF] Applying migration '20240514121756_updateCommentTabel'.
2024-05-26 19:24:45.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] DROP CONSTRAINT [FK_Comments_Comments_ParentCommentId];
2024-05-26 19:24:45.228 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Comments]') AND [c].[name] = N'ParentCommentId');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Comments] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Comments] ALTER COLUMN [ParentCommentId] nvarchar(450) NULL;
2024-05-26 19:24:45.228 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] ADD CONSTRAINT [FK_Comments_Comments_ParentCommentId] FOREIGN KEY ([ParentCommentId]) REFERENCES [Comments] ([Id]);
2024-05-26 19:24:45.229 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240514121756_updateCommentTabel', N'8.0.3');
2024-05-26 19:24:45.230 +03:00 [INF] Applying migration '20240514122520_updateCommentTabel2'.
2024-05-26 19:24:45.251 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] DROP CONSTRAINT [FK_Comments_Comments_ParentCommentId];
2024-05-26 19:24:45.265 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Comments_ParentCommentId] ON [Comments];
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Comments]') AND [c].[name] = N'ParentCommentId');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Comments] DROP CONSTRAINT [' + @var5 + '];');
UPDATE [Comments] SET [ParentCommentId] = N'' WHERE [ParentCommentId] IS NULL;
ALTER TABLE [Comments] ALTER COLUMN [ParentCommentId] nvarchar(450) NOT NULL;
ALTER TABLE [Comments] ADD DEFAULT N'' FOR [ParentCommentId];
CREATE INDEX [IX_Comments_ParentCommentId] ON [Comments] ([ParentCommentId]);
2024-05-26 19:24:45.265 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] ADD CONSTRAINT [FK_Comments_Comments_ParentCommentId] FOREIGN KEY ([ParentCommentId]) REFERENCES [Comments] ([Id]);
2024-05-26 19:24:45.266 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240514122520_updateCommentTabel2', N'8.0.3');
2024-05-26 19:24:45.267 +03:00 [INF] Applying migration '20240514125139_updateCommentTabel3'.
2024-05-26 19:24:45.287 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] ADD [DisLikes] int NOT NULL DEFAULT 0;
2024-05-26 19:24:45.288 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Comments] ADD [Likes] int NOT NULL DEFAULT 0;
2024-05-26 19:24:45.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240514125139_updateCommentTabel3', N'8.0.3');
2024-05-26 19:24:45.289 +03:00 [INF] Applying migration '20240515144338_UpdatePlaylistTable'.
2024-05-26 19:24:45.309 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD [IsDefult] bit NOT NULL DEFAULT CAST(0 AS bit);
2024-05-26 19:24:45.310 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240515144338_UpdatePlaylistTable', N'8.0.3');
2024-05-26 19:24:45.311 +03:00 [INF] Applying migration '20240526162315_AddingVideoLike-Dislike-FlagANDCommentLike-DislikeANDPlaylistSelfRealationShip'.
2024-05-26 19:24:45.342 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD [ParentPlaylistId] nvarchar(450) NOT NULL DEFAULT N'';
2024-05-26 19:24:45.343 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CommentsDislikes] (
    [UserId] nvarchar(450) NOT NULL,
    [CommentId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_CommentsDislikes] PRIMARY KEY ([CommentId], [UserId]),
    CONSTRAINT [FK_CommentsDislikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_CommentsDislikes_Comments_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comments] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.345 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CommentsLikes] (
    [UserId] nvarchar(450) NOT NULL,
    [CommentId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_CommentsLikes] PRIMARY KEY ([CommentId], [UserId]),
    CONSTRAINT [FK_CommentsLikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_CommentsLikes_Comments_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comments] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.347 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosDislikes] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosDislikes] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosDislikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosDislikes_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.349 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosFlags] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosFlags] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosFlags_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosFlags_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.350 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosLikes] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosLikes] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosLikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosLikes_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:24:45.350 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Playlists_ParentPlaylistId] ON [Playlists] ([ParentPlaylistId]);
2024-05-26 19:24:45.351 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CommentsDislikes_UserId] ON [CommentsDislikes] ([UserId]);
2024-05-26 19:24:45.352 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CommentsLikes_UserId] ON [CommentsLikes] ([UserId]);
2024-05-26 19:24:45.352 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosDislikes_VideoId] ON [VideosDislikes] ([VideoId]);
2024-05-26 19:24:45.353 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosFlags_VideoId] ON [VideosFlags] ([VideoId]);
2024-05-26 19:24:45.353 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosLikes_VideoId] ON [VideosLikes] ([VideoId]);
2024-05-26 19:24:45.358 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD CONSTRAINT [FK_Playlists_Playlists_ParentPlaylistId] FOREIGN KEY ([ParentPlaylistId]) REFERENCES [Playlists] ([Id]) ON DELETE CASCADE;
2024-05-26 19:25:03.293 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 19:25:03.331 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 19:25:03.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-05-26 19:25:03.333 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-05-26 19:25:03.342 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-05-26 19:25:03.351 +03:00 [INF] Applying migration '20240526162315_AddingVideoLike-Dislike-FlagANDCommentLike-DislikeANDPlaylistSelfRealationShip'.
2024-05-26 19:25:03.408 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD [ParentPlaylistId] nvarchar(450) NOT NULL DEFAULT N'';
2024-05-26 19:25:03.411 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CommentsDislikes] (
    [UserId] nvarchar(450) NOT NULL,
    [CommentId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_CommentsDislikes] PRIMARY KEY ([CommentId], [UserId]),
    CONSTRAINT [FK_CommentsDislikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_CommentsDislikes_Comments_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comments] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:25:03.413 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [CommentsLikes] (
    [UserId] nvarchar(450) NOT NULL,
    [CommentId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_CommentsLikes] PRIMARY KEY ([CommentId], [UserId]),
    CONSTRAINT [FK_CommentsLikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_CommentsLikes_Comments_CommentId] FOREIGN KEY ([CommentId]) REFERENCES [Comments] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:25:03.415 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosDislikes] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosDislikes] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosDislikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosDislikes_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:25:03.416 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosFlags] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosFlags] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosFlags_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosFlags_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:25:03.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [VideosLikes] (
    [UserId] nvarchar(450) NOT NULL,
    [VideoId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_VideosLikes] PRIMARY KEY ([UserId], [VideoId]),
    CONSTRAINT [FK_VideosLikes_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_VideosLikes_Videos_VideoId] FOREIGN KEY ([VideoId]) REFERENCES [Videos] ([Id]) ON DELETE CASCADE
);
2024-05-26 19:25:03.418 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Playlists_ParentPlaylistId] ON [Playlists] ([ParentPlaylistId]);
2024-05-26 19:25:03.418 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CommentsDislikes_UserId] ON [CommentsDislikes] ([UserId]);
2024-05-26 19:25:03.419 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_CommentsLikes_UserId] ON [CommentsLikes] ([UserId]);
2024-05-26 19:25:03.419 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosDislikes_VideoId] ON [VideosDislikes] ([VideoId]);
2024-05-26 19:25:03.420 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosFlags_VideoId] ON [VideosFlags] ([VideoId]);
2024-05-26 19:25:03.421 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_VideosLikes_VideoId] ON [VideosLikes] ([VideoId]);
2024-05-26 19:25:03.421 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Playlists] ADD CONSTRAINT [FK_Playlists_Playlists_ParentPlaylistId] FOREIGN KEY ([ParentPlaylistId]) REFERENCES [Playlists] ([Id]);
2024-05-26 19:25:03.422 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240526162315_AddingVideoLike-Dislike-FlagANDCommentLike-DislikeANDPlaylistSelfRealationShip', N'8.0.3');
2024-05-26 19:25:19.567 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 19:25:19.728 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 19:25:19.728 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 19:25:19.729 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 19:25:19.729 +03:00 [INF] Hosting environment: Development
2024-05-26 19:25:19.729 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 19:25:23.016 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 19:25:23.205 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 189.3013ms
2024-05-26 19:25:23.233 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 19:25:23.237 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.0292ms
2024-05-26 19:25:23.286 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 19:25:23.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.8273ms
2024-05-26 19:25:23.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 19:25:23.702 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.6493ms
2024-05-26 19:26:21.335 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Register - application/json 228
2024-05-26 19:26:21.376 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 19:26:21.393 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ArabTube.Entities.DtoModels.UserDTOs.RegisterDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:26:22.793 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 19:26:22.823 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:26:22.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:26:23.093 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 250), @p7='?' (DbType = Boolean), @p8='?' (Size = 250), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [BirthDate], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-05-26 19:26:23.112 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 19:26:23.152 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-26 19:26:23.154 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 19:26:23.168 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:26:23.197 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p21='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (Size = 250), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [BirthDate] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [Gender] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-05-26 19:26:23.291 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api) in 1894.6218ms
2024-05-26 19:26:23.291 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 19:26:23.294 +03:00 [ERR] HTTP POST /api/Account/Register responded 500 in 1948.8544 ms
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at ArabTube.Services.ControllersServices.EmailServices.ImplementationClasses.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\EmailServices\ImplementationClasses\EmailSender.cs:line 33
   at ArabTube.Api.Controllers.AccountController.Register(RegisterDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\AccountController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 19:26:23.309 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at ArabTube.Services.ControllersServices.EmailServices.ImplementationClasses.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\EmailServices\ImplementationClasses\EmailSender.cs:line 33
   at ArabTube.Api.Controllers.AccountController.Register(RegisterDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\AccountController.cs:line 116
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 19:26:23.322 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Register - 500 null text/plain; charset=utf-8 1988.2414ms
2024-05-26 19:27:31.559 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Register - application/json 228
2024-05-26 19:27:31.562 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 19:27:31.562 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ArabTube.Entities.DtoModels.UserDTOs.RegisterDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:27:31.617 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 19:27:31.618 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:27:31.692 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:27:31.696 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 250), @p7='?' (DbType = Boolean), @p8='?' (Size = 250), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [BirthDate], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-05-26 19:27:31.697 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 19:27:31.698 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-26 19:27:31.699 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 19:27:31.700 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:27:31.702 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p21='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (Size = 250), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [BirthDate] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [Gender] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-05-26 19:27:46.328 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:27:46.329 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api) in 14766.7576ms
2024-05-26 19:27:46.329 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 19:27:46.329 +03:00 [INF] HTTP POST /api/Account/Register responded 200 in 14768.1390 ms
2024-05-26 19:27:46.329 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Register - 200 null text/plain; charset=utf-8 14771.452ms
2024-05-26 19:28:08.818 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - application/json 26
2024-05-26 19:28:08.820 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 19:28:08.832 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(ArabTube.Entities.DtoModels.UserDTOs.EmailConfirmationDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:28:08.862 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 19:28:08.870 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:28:08.874 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p19='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 250), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [BirthDate] = @p1, [ConcurrencyStamp] = @p2, [Email] = @p3, [EmailConfirmed] = @p4, [FirstName] = @p5, [Gender] = @p6, [LastName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [PasswordHash] = @p12, [PhoneNumber] = @p13, [PhoneNumberConfirmed] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-05-26 19:28:08.883 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[IsDefult] = CAST(1 AS bit)
2024-05-26 19:28:08.928 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 450), @p12='?' (Size = 4000), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-05-26 19:28:08.929 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:28:08.929 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api) in 96.945ms
2024-05-26 19:28:08.929 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 19:28:08.929 +03:00 [INF] HTTP POST /api/Account/ConfirmEmail responded 200 in 111.2066 ms
2024-05-26 19:28:08.929 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - 200 null text/plain; charset=utf-8 111.6019ms
2024-05-26 19:30:26.317 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 19:30:26.478 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 19:30:26.478 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 19:30:26.479 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 19:30:26.479 +03:00 [INF] Hosting environment: Development
2024-05-26 19:30:26.479 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 19:30:29.871 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 19:30:30.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 142.1346ms
2024-05-26 19:30:30.092 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 19:30:30.092 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 19:30:30.096 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.3831ms
2024-05-26 19:30:30.127 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 34.2397ms
2024-05-26 19:30:30.378 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 19:30:30.481 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.7917ms
2024-05-26 19:35:19.383 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Register - application/json 220
2024-05-26 19:35:19.425 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 19:35:19.443 +03:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ArabTube.Entities.DtoModels.UserDTOs.RegisterDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:35:20.849 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 19:35:20.877 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:35:20.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:35:21.143 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 250), @p7='?' (DbType = Boolean), @p8='?' (Size = 250), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [BirthDate], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [Gender], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-05-26 19:35:21.160 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 19:35:21.199 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-05-26 19:35:21.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-05-26 19:35:21.212 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:35:21.248 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p20='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p21='?' (Size = 4000), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 250), @p8='?' (DbType = Boolean), @p9='?' (Size = 250), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [BirthDate] = @p3, [ConcurrencyStamp] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [Gender] = @p8, [LastName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [SecurityStamp] = @p17, [TwoFactorEnabled] = @p18, [UserName] = @p19
OUTPUT 1
WHERE [Id] = @p20 AND [ConcurrencyStamp] = @p21;
2024-05-26 19:35:21.345 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api) in 1899.1443ms
2024-05-26 19:35:21.346 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Register (ArabTube.Api)'
2024-05-26 19:35:21.348 +03:00 [ERR] HTTP POST /api/Account/Register responded 500 in 1955.3556 ms
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at ArabTube.Services.ControllersServices.EmailServices.ImplementationClasses.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\EmailServices\ImplementationClasses\EmailSender.cs:line 33
   at ArabTube.Api.Controllers.AccountController.Register(RegisterDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\AccountController.cs:line 123
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 19:35:21.358 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Mail.SmtpException: Failure sending mail.
 ---> System.Net.Sockets.SocketException (11001): No such host is known.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)
   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)
   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)
--- End of stack trace from previous location ---
   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)
   --- End of inner exception stack trace ---
   at ArabTube.Services.ControllersServices.EmailServices.ImplementationClasses.EmailSender.SendEmailAsync(String email, String subject, String htmlMessage) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\EmailServices\ImplementationClasses\EmailSender.cs:line 33
   at ArabTube.Api.Controllers.AccountController.Register(RegisterDto model) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\AccountController.cs:line 123
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 19:35:21.367 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Register - 500 null text/plain; charset=utf-8 1984.5657ms
2024-05-26 19:35:53.077 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 19:35:53.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 20.7116ms
2024-05-26 19:35:53.176 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 19:35:53.177 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.9604ms
2024-05-26 19:35:53.184 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 19:35:53.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 12.2806ms
2024-05-26 19:35:53.606 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 19:35:53.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.4295ms
2024-05-26 19:36:01.676 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - application/json 23
2024-05-26 19:36:01.677 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 19:36:01.682 +03:00 [INF] Route matched with {action = "ConfirmEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ConfirmEmail(ArabTube.Entities.DtoModels.UserDTOs.EmailConfirmationDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:36:01.743 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[IsDefult] = CAST(1 AS bit)
2024-05-26 19:36:01.782 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450), @p7='?' (Size = 450), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 450), @p12='?' (Size = 4000), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13);
2024-05-26 19:36:01.785 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-05-26 19:36:01.785 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api) in 103.1499ms
2024-05-26 19:36:01.785 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.ConfirmEmail (ArabTube.Api)'
2024-05-26 19:36:01.785 +03:00 [INF] HTTP POST /api/Account/ConfirmEmail responded 200 in 108.1257 ms
2024-05-26 19:36:01.785 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/ConfirmEmail - 200 0 null 109.3769ms
2024-05-26 19:36:46.208 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 19:36:46.217 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 9.3663ms
2024-05-26 19:36:46.268 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 19:36:46.268 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 19:36:46.270 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.1386ms
2024-05-26 19:36:46.285 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.5713ms
2024-05-26 19:36:46.572 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 19:36:46.581 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1404ms
2024-05-26 19:37:01.520 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 19:37:01.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 3.5963ms
2024-05-26 19:37:01.587 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 19:37:01.588 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 1.0852ms
2024-05-26 19:37:01.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 19:37:01.636 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.453ms
2024-05-26 19:37:01.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 19:37:01.931 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.0454ms
2024-05-26 19:37:26.424 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Login - application/json 65
2024-05-26 19:37:26.426 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api)'
2024-05-26 19:37:26.429 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ArabTube.Entities.DtoModels.UserDTOs.LoginDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:37:26.456 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 19:37:26.556 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-26 19:37:26.578 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-26 19:37:26.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-26 19:37:26.598 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.AuthModels.AuthResult'.
2024-05-26 19:37:26.601 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api) in 171.937ms
2024-05-26 19:37:26.601 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api)'
2024-05-26 19:37:26.601 +03:00 [INF] HTTP POST /api/Account/Login responded 200 in 177.1717 ms
2024-05-26 19:37:26.601 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Login - 200 null application/json; charset=utf-8 177.6872ms
2024-05-26 19:38:10.905 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Account/searchNames?query=t - null null
2024-05-26 19:38:10.956 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.SearchChannels (ArabTube.Api)'
2024-05-26 19:38:10.960 +03:00 [INF] Route matched with {action = "SearchChannels", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchChannels(System.String) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:38:11.439 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_0_contains='?' (Size = 250), @__query_0_contains_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[FirstName], [a].[LastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[FirstName] LIKE @__query_0_contains ESCAPE N'\' OR [a].[LastName] LIKE @__query_0_contains ESCAPE N'\' OR [a].[UserName] LIKE @__query_0_contains_1 ESCAPE N'\'
2024-05-26 19:38:11.440 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-26 19:38:11.440 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.SearchChannels (ArabTube.Api) in 479.5441ms
2024-05-26 19:38:11.440 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.SearchChannels (ArabTube.Api)'
2024-05-26 19:38:11.440 +03:00 [INF] HTTP GET /api/Account/searchNames responded 200 in 515.6382 ms
2024-05-26 19:38:11.440 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Account/searchNames?query=t - 200 null application/json; charset=utf-8 535.4642ms
2024-05-26 19:38:14.372 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Account/searchNames?query=a - null null
2024-05-26 19:38:14.373 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.SearchChannels (ArabTube.Api)'
2024-05-26 19:38:14.373 +03:00 [INF] Route matched with {action = "SearchChannels", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchChannels(System.String) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:38:14.377 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_0_contains='?' (Size = 250), @__query_0_contains_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[FirstName], [a].[LastName]
FROM [AspNetUsers] AS [a]
WHERE [a].[FirstName] LIKE @__query_0_contains ESCAPE N'\' OR [a].[LastName] LIKE @__query_0_contains ESCAPE N'\' OR [a].[UserName] LIKE @__query_0_contains_1 ESCAPE N'\'
2024-05-26 19:38:14.377 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-26 19:38:14.377 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.SearchChannels (ArabTube.Api) in 3.6893ms
2024-05-26 19:38:14.377 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.SearchChannels (ArabTube.Api)'
2024-05-26 19:38:14.377 +03:00 [INF] HTTP GET /api/Account/searchNames responded 200 in 4.4783 ms
2024-05-26 19:38:14.377 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Account/searchNames?query=a - 200 null application/json; charset=utf-8 5.0758ms
2024-05-26 19:38:20.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Account/search?query=a - null null
2024-05-26 19:38:20.452 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.SearchUsers (ArabTube.Api)'
2024-05-26 19:38:20.455 +03:00 [INF] Route matched with {action = "SearchUsers", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchUsers(System.String) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 19:38:20.467 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__query_0_contains='?' (Size = 250), @__query_0_contains_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[FirstName] LIKE @__query_0_contains ESCAPE N'\' OR [a].[LastName] LIKE @__query_0_contains ESCAPE N'\' OR [a].[UserName] LIKE @__query_0_contains_1 ESCAPE N'\'
2024-05-26 19:38:20.475 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.UserDTOs.UserViewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:38:20.476 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.SearchUsers (ArabTube.Api) in 21.0774ms
2024-05-26 19:38:20.476 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.SearchUsers (ArabTube.Api)'
2024-05-26 19:38:20.476 +03:00 [INF] HTTP GET /api/Account/search responded 200 in 23.9141 ms
2024-05-26 19:38:20.476 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Account/search?query=a - 200 null application/json; charset=utf-8 24.1803ms
2024-05-26 19:38:51.382 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundarylAWMACNUTJcb1wFF 6473429
2024-05-26 19:38:51.394 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:38:51.397 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:38:51.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:38:51.571 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 19:38:51.572 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:38:51.572 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 174.5742ms
2024-05-26 19:38:51.572 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:38:51.572 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 185.7766 ms
2024-05-26 19:38:51.576 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 194.6164ms
2024-05-26 19:38:56.704 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundary5jrwMwqG1jipkW8B 6473429
2024-05-26 19:38:56.709 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:38:56.709 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:38:56.803 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:38:56.808 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 19:38:56.808 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:38:56.808 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 98.8373ms
2024-05-26 19:38:56.808 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:38:56.808 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 101.5133 ms
2024-05-26 19:38:56.810 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 106.7677ms
2024-05-26 19:39:02.546 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundaryUJfmxkPXjgakwv9T 6473429
2024-05-26 19:39:02.548 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:39:02.549 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:39:02.631 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:39:02.635 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 19:39:02.636 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:39:02.636 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 86.9615ms
2024-05-26 19:39:02.636 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:39:02.636 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 89.1553 ms
2024-05-26 19:39:02.637 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 90.8445ms
2024-05-26 19:39:07.987 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundary72J1Vq09EvQkuqjJ 6473429
2024-05-26 19:39:07.988 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:39:07.988 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:39:08.067 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:39:08.072 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 19:39:08.072 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:39:08.072 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 83.4407ms
2024-05-26 19:39:08.072 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:39:08.072 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 84.2138 ms
2024-05-26 19:39:08.073 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 86.5609ms
2024-05-26 19:39:12.037 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Upload - multipart/form-data; boundary=----WebKitFormBoundarynMxonJ0lbeAbbA5N 6473429
2024-05-26 19:39:12.039 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:39:12.040 +03:00 [INF] Route matched with {action = "UploadVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadVideo(ArabTube.Entities.DtoModels.VideoDTOs.UploadingVideoDto) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:39:12.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:39:12.127 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (Size = 2000), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Size = -1) (DbType = Binary), @p7='?' (Size = 256), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 500), @p11='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Videos] ([Id], [CreatedOn], [Description], [DisLikes], [Flags], [Likes], [Thumbnail], [Title], [UpdatedOn], [UserId], [VideoUri], [Views])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2024-05-26 19:39:12.128 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:39:12.128 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api) in 88.0745ms
2024-05-26 19:39:12.128 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UploadVideo (ArabTube.Api)'
2024-05-26 19:39:12.128 +03:00 [INF] HTTP POST /api/Videos/Upload responded 200 in 90.3824 ms
2024-05-26 19:39:12.129 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Upload - 200 null text/plain; charset=utf-8 92.1586ms
2024-05-26 19:39:24.604 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/searchTitles?query=s - null null
2024-05-26 19:39:24.604 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.SearchVideoTitles (ArabTube.Api)'
2024-05-26 19:39:24.608 +03:00 [INF] Route matched with {action = "SearchVideoTitles", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideoTitles(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:39:24.615 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__query_0_contains='?' (Size = 256), @__query_0_contains_1='?' (Size = 2000)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Title]
FROM [Videos] AS [v]
WHERE [v].[Title] LIKE @__query_0_contains ESCAPE N'\' OR [v].[Description] LIKE @__query_0_contains_1 ESCAPE N'\'
2024-05-26 19:39:24.616 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-26 19:39:24.616 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.SearchVideoTitles (ArabTube.Api) in 7.6308ms
2024-05-26 19:39:24.616 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.SearchVideoTitles (ArabTube.Api)'
2024-05-26 19:39:24.616 +03:00 [INF] HTTP GET /api/Videos/searchTitles responded 200 in 12.0925 ms
2024-05-26 19:39:24.616 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/searchTitles?query=s - 200 null application/json; charset=utf-8 12.3887ms
2024-05-26 19:39:32.194 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/search?query=s - null null
2024-05-26 19:39:32.195 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.SearchVideos (ArabTube.Api)'
2024-05-26 19:39:32.202 +03:00 [INF] Route matched with {action = "SearchVideos", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchVideos(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:39:32.230 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__query_0_contains='?' (Size = 256), @__query_0_contains_1='?' (Size = 2000)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Title] LIKE @__query_0_contains ESCAPE N'\' OR [v].[Description] LIKE @__query_0_contains_1 ESCAPE N'\'
2024-05-26 19:39:32.243 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.VideoDTOs.VideoPreviewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:39:32.253 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.SearchVideos (ArabTube.Api) in 50.9444ms
2024-05-26 19:39:32.253 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.SearchVideos (ArabTube.Api)'
2024-05-26 19:39:32.253 +03:00 [INF] HTTP GET /api/Videos/search responded 200 in 58.4647 ms
2024-05-26 19:39:32.253 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/search?query=s - 200 null application/json; charset=utf-8 58.8985ms
2024-05-26 19:39:39.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/Videos - null null
2024-05-26 19:39:39.809 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api)'
2024-05-26 19:39:39.813 +03:00 [INF] Route matched with {action = "PreviewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewVideo() on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:39:39.822 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
2024-05-26 19:39:39.826 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.VideoDTOs.VideoPreviewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:39:39.829 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api) in 15.7907ms
2024-05-26 19:39:39.829 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api)'
2024-05-26 19:39:39.829 +03:00 [INF] HTTP GET /api/Videos/Videos responded 200 in 19.3971 ms
2024-05-26 19:39:39.829 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/Videos - 200 null application/json; charset=utf-8 19.7078ms
2024-05-26 19:39:45.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/Videos - null null
2024-05-26 19:39:45.379 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api)'
2024-05-26 19:39:45.379 +03:00 [INF] Route matched with {action = "PreviewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PreviewVideo() on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:39:45.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
2024-05-26 19:39:45.385 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.VideoDTOs.VideoPreviewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:39:45.388 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api) in 8.7079ms
2024-05-26 19:39:45.388 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.PreviewVideo (ArabTube.Api)'
2024-05-26 19:39:45.388 +03:00 [INF] HTTP GET /api/Videos/Videos responded 200 in 9.1678 ms
2024-05-26 19:39:45.388 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/Videos - 200 null application/json; charset=utf-8 9.6378ms
2024-05-26 19:39:54.565 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/Video?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:39:54.565 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api)'
2024-05-26 19:39:54.568 +03:00 [INF] Route matched with {action = "WatchVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:39:54.584 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:39:54.606 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.VideoDTOs.ViewVideoDto'.
2024-05-26 19:39:54.616 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api) in 47.8144ms
2024-05-26 19:39:54.616 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api)'
2024-05-26 19:39:54.616 +03:00 [INF] HTTP GET /api/Videos/Video responded 200 in 51.3717 ms
2024-05-26 19:39:54.616 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/Video?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null application/json; charset=utf-8 51.71ms
2024-05-26 19:40:24.431 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=f0252736-838a-47ce-aa1c-09371c282889 - null null
2024-05-26 19:40:24.432 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 19:40:24.435 +03:00 [INF] Route matched with {action = "UserVideos", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserVideos(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:40:24.444 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 19:40:24.448 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views]
FROM [Videos] AS [v]
WHERE [v].[UserId] = @__userId_0
2024-05-26 19:40:24.451 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.VideoDTOs.VideoPreviewDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:40:24.459 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api) in 24.0241ms
2024-05-26 19:40:24.459 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UserVideos (ArabTube.Api)'
2024-05-26 19:40:24.459 +03:00 [INF] HTTP GET /api/Videos/UserVideo responded 200 in 27.5209 ms
2024-05-26 19:40:24.460 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserVideo?userId=f0252736-838a-47ce-aa1c-09371c282889 - 200 null application/json; charset=utf-8 28.8099ms
2024-05-26 19:40:53.914 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:40:53.919 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:40:53.922 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:40:53.925 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:40:53.927 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:40:53.933 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:40:53.933 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:40:53.933 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 11.4983ms
2024-05-26 19:40:53.933 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:40:53.933 +03:00 [INF] HTTP GET /api/Videos/UserLike responded 200 in 19.3016 ms
2024-05-26 19:40:53.933 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 19.7165ms
2024-05-26 19:41:01.656 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserDisLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:41:01.657 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api)'
2024-05-26 19:41:01.661 +03:00 [INF] Route matched with {action = "IsUserDisLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserDisLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:41:01.674 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:41:01.681 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:01.689 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosDislikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:41:01.690 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:41:01.690 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api) in 28.904ms
2024-05-26 19:41:01.690 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api)'
2024-05-26 19:41:01.690 +03:00 [INF] HTTP GET /api/Videos/UserDisLike responded 200 in 33.0103 ms
2024-05-26 19:41:01.690 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserDisLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 33.4334ms
2024-05-26 19:41:09.946 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserFlag?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:41:09.947 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserFlagVideo (ArabTube.Api)'
2024-05-26 19:41:09.950 +03:00 [INF] Route matched with {action = "IsUserFlagVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserFlagVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:41:09.953 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:41:09.956 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:09.961 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosFlags] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:41:09.962 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:41:09.962 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserFlagVideo (ArabTube.Api) in 11.9889ms
2024-05-26 19:41:09.962 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserFlagVideo (ArabTube.Api)'
2024-05-26 19:41:09.962 +03:00 [INF] HTTP GET /api/Videos/UserFlag responded 200 in 15.0864 ms
2024-05-26 19:41:09.962 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserFlag?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 15.5521ms
2024-05-26 19:41:22.639 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null 0
2024-05-26 19:41:22.639 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:41:22.642 +03:00 [INF] Route matched with {action = "LikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:41:22.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:41:22.648 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:22.650 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:41:22.660 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [VideosLikes] ([UserId], [VideoId])
VALUES (@p2, @p3);
2024-05-26 19:41:22.671 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__title_0='?' (Size = 4000), @__IsDefult_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Title] = @__title_0 AND [p].[IsDefult] = @__IsDefult_1 AND [p].[UserId] = @__userId_2
2024-05-26 19:41:22.674 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:22.682 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 19:41:22.689 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 19:41:22.689 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:41:22.689 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api) in 47.1566ms
2024-05-26 19:41:22.689 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:41:22.689 +03:00 [INF] HTTP POST /api/Videos/Like responded 200 in 50.6061 ms
2024-05-26 19:41:22.689 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 50.8338ms
2024-05-26 19:41:30.314 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:41:30.315 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:41:30.315 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:41:30.332 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:41:30.333 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:30.338 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:41:30.339 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:41:30.339 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 24.5695ms
2024-05-26 19:41:30.339 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:41:30.339 +03:00 [INF] HTTP GET /api/Videos/UserLike responded 200 in 24.9562 ms
2024-05-26 19:41:30.339 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 25.25ms
2024-05-26 19:41:35.245 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null 0
2024-05-26 19:41:35.247 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:41:35.247 +03:00 [INF] Route matched with {action = "LikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:41:35.262 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:41:35.264 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:35.271 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:41:35.278 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [VideosLikes]
OUTPUT 1
WHERE [UserId] = @p2 AND [VideoId] = @p3;
2024-05-26 19:41:35.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?' (Size = 4000), @__IsDefult_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Title] = @__title_0 AND [p].[IsDefult] = @__IsDefult_1 AND [p].[UserId] = @__userId_2
2024-05-26 19:41:35.288 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:35.290 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 19:41:35.293 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PlaylistVideos]
OUTPUT 1
WHERE [PlaylistId] = @p0 AND [VideoId] = @p1;
2024-05-26 19:41:35.293 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:41:35.293 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api) in 46.2345ms
2024-05-26 19:41:35.293 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:41:35.293 +03:00 [INF] HTTP POST /api/Videos/Like responded 200 in 48.2644 ms
2024-05-26 19:41:35.293 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 48.658ms
2024-05-26 19:41:41.204 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:41:41.204 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:41:41.205 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:41:41.223 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:41:41.225 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:41.228 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:41:41.228 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:41:41.228 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 23.461ms
2024-05-26 19:41:41.228 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:41:41.228 +03:00 [INF] HTTP GET /api/Videos/UserLike responded 200 in 23.8226 ms
2024-05-26 19:41:41.228 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 24.1507ms
2024-05-26 19:41:52.739 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null 0
2024-05-26 19:41:52.739 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:41:52.739 +03:00 [INF] Route matched with {action = "LikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:41:52.742 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:41:52.743 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:52.744 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:41:52.746 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [VideosLikes] ([UserId], [VideoId])
VALUES (@p2, @p3);
2024-05-26 19:41:52.750 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?' (Size = 4000), @__IsDefult_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Title] = @__title_0 AND [p].[IsDefult] = @__IsDefult_1 AND [p].[UserId] = @__userId_2
2024-05-26 19:41:52.751 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:41:52.753 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 19:41:52.755 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 19:41:52.755 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:41:52.755 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api) in 15.8337ms
2024-05-26 19:41:52.755 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:41:52.755 +03:00 [INF] HTTP POST /api/Videos/Like responded 200 in 16.2460 ms
2024-05-26 19:41:52.755 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 16.8505ms
2024-05-26 19:42:10.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 19:42:10.667 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 19:42:10.669 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 19:42:10.673 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:42:10.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 19:42:10.686 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:42:10.687 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 17.1412ms
2024-05-26 19:42:10.687 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 19:42:10.687 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 19.8237 ms
2024-05-26 19:42:10.687 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 20.7827ms
2024-05-26 19:42:26.291 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 19:42:26.293 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 19:42:26.295 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 19:42:26.302 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 19:42:26.317 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 19:42:26.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:42:26.322 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 26.981ms
2024-05-26 19:42:26.322 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 19:42:26.322 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 29.7977 ms
2024-05-26 19:42:26.322 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 200 null application/json; charset=utf-8 31.2901ms
2024-05-26 19:42:40.435 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null 0
2024-05-26 19:42:40.435 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:42:40.435 +03:00 [INF] Route matched with {action = "LikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:42:40.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:42:40.457 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:42:40.459 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:42:40.460 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [VideosLikes]
OUTPUT 1
WHERE [UserId] = @p2 AND [VideoId] = @p3;
2024-05-26 19:42:40.463 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?' (Size = 4000), @__IsDefult_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Title] = @__title_0 AND [p].[IsDefult] = @__IsDefult_1 AND [p].[UserId] = @__userId_2
2024-05-26 19:42:40.464 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:42:40.465 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 19:42:40.466 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PlaylistVideos]
OUTPUT 1
WHERE [PlaylistId] = @p0 AND [VideoId] = @p1;
2024-05-26 19:42:40.466 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:42:40.466 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api) in 30.7221ms
2024-05-26 19:42:40.466 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:42:40.466 +03:00 [INF] HTTP POST /api/Videos/Like responded 200 in 31.1112 ms
2024-05-26 19:42:40.466 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 31.6968ms
2024-05-26 19:42:43.794 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 19:42:43.794 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 19:42:43.794 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 19:42:43.813 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 19:42:43.814 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 19:42:43.814 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 19:42:43.814 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 20.0715ms
2024-05-26 19:42:43.814 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 19:42:43.814 +03:00 [INF] HTTP GET /api/Playlists/Video responded 400 in 20.3819 ms
2024-05-26 19:42:43.815 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 400 null text/plain; charset=utf-8 20.7267ms
2024-05-26 19:42:56.852 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null 0
2024-05-26 19:42:56.853 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:42:56.853 +03:00 [INF] Route matched with {action = "LikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:42:56.856 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:42:56.857 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:42:56.859 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:42:56.860 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [VideosLikes] ([UserId], [VideoId])
VALUES (@p2, @p3);
2024-05-26 19:42:56.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?' (Size = 4000), @__IsDefult_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Title] = @__title_0 AND [p].[IsDefult] = @__IsDefult_1 AND [p].[UserId] = @__userId_2
2024-05-26 19:42:56.865 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:42:56.866 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 19:42:56.867 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 19:42:56.867 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:42:56.867 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api) in 14.3524ms
2024-05-26 19:42:56.867 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:42:56.867 +03:00 [INF] HTTP POST /api/Videos/Like responded 200 in 14.8123 ms
2024-05-26 19:42:56.867 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Like?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 15.3944ms
2024-05-26 19:43:17.452 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Like?id=506a0179-2ec0-4c54-90b9-d09be108e973 - null 0
2024-05-26 19:43:17.454 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:43:17.454 +03:00 [INF] Route matched with {action = "LikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:43:17.456 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:43:17.458 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:43:17.459 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:43:17.460 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [VideosLikes] ([UserId], [VideoId])
VALUES (@p2, @p3);
2024-05-26 19:43:17.463 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?' (Size = 4000), @__IsDefult_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Title] = @__title_0 AND [p].[IsDefult] = @__IsDefult_1 AND [p].[UserId] = @__userId_2
2024-05-26 19:43:17.465 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:43:17.468 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 19:43:17.469 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 19:43:17.470 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:43:17.472 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api) in 15.6854ms
2024-05-26 19:43:17.472 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:43:17.472 +03:00 [INF] HTTP POST /api/Videos/Like responded 200 in 19.1857 ms
2024-05-26 19:43:17.472 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Like?id=506a0179-2ec0-4c54-90b9-d09be108e973 - 200 null text/plain; charset=utf-8 20.9129ms
2024-05-26 19:43:24.678 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Like?id=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - null 0
2024-05-26 19:43:24.679 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:43:24.679 +03:00 [INF] Route matched with {action = "LikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:43:24.697 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:43:24.698 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:43:24.699 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:43:24.702 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [VideosLikes] ([UserId], [VideoId])
VALUES (@p2, @p3);
2024-05-26 19:43:24.707 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?' (Size = 4000), @__IsDefult_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Title] = @__title_0 AND [p].[IsDefult] = @__IsDefult_1 AND [p].[UserId] = @__userId_2
2024-05-26 19:43:24.708 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:43:24.710 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 19:43:24.710 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 19:43:24.711 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:43:24.711 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api) in 31.9813ms
2024-05-26 19:43:24.711 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:43:24.711 +03:00 [INF] HTTP POST /api/Videos/Like responded 200 in 32.7153 ms
2024-05-26 19:43:24.711 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Like?id=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - 200 null text/plain; charset=utf-8 33.3513ms
2024-05-26 19:43:33.480 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:43:33.480 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:43:33.480 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:43:33.483 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:43:33.484 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:43:33.486 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:43:33.486 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:43:33.486 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 5.7892ms
2024-05-26 19:43:33.486 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:43:33.486 +03:00 [INF] HTTP GET /api/Videos/UserLike responded 200 in 6.1510 ms
2024-05-26 19:43:33.486 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 6.8016ms
2024-05-26 19:43:36.908 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - null null
2024-05-26 19:43:36.909 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:43:36.909 +03:00 [INF] Route matched with {action = "IsUserLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:43:36.911 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:43:36.912 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:43:36.913 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:43:36.914 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:43:36.914 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api) in 5.3163ms
2024-05-26 19:43:36.914 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserLikeVideo (ArabTube.Api)'
2024-05-26 19:43:36.914 +03:00 [INF] HTTP GET /api/Videos/UserLike responded 200 in 5.7004 ms
2024-05-26 19:43:36.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserLike?videoId=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - 200 null text/plain; charset=utf-8 6.1204ms
2024-05-26 19:45:08.154 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Playlist?id=b793e4a1-a8fc-4caf-9413-89b7e2d2399e - null null
2024-05-26 19:45:08.160 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylists (ArabTube.Api)'
2024-05-26 19:45:08.162 +03:00 [INF] Route matched with {action = "GetPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylists(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 19:45:08.166 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 19:45:08.177 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[IsPrivate] = CAST(0 AS bit)
2024-05-26 19:45:08.178 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 19:45:08.178 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylists (ArabTube.Api) in 15.4604ms
2024-05-26 19:45:08.178 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylists (ArabTube.Api)'
2024-05-26 19:45:08.178 +03:00 [INF] HTTP GET /api/Playlists/Playlist responded 400 in 19.9654 ms
2024-05-26 19:45:08.178 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Playlist?id=b793e4a1-a8fc-4caf-9413-89b7e2d2399e - 400 null text/plain; charset=utf-8 23.5866ms
2024-05-26 19:45:17.235 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 19:45:17.235 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 19:45:17.235 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 19:45:17.238 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 19:45:17.239 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 19:45:17.242 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:45:17.242 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 6.5056ms
2024-05-26 19:45:17.242 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 19:45:17.242 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 6.8275 ms
2024-05-26 19:45:17.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 200 null application/json; charset=utf-8 7.5073ms
2024-05-26 19:45:26.214 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Like?id=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - null 0
2024-05-26 19:45:26.215 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:45:26.215 +03:00 [INF] Route matched with {action = "LikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:45:26.217 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:45:26.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:45:26.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosLikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:45:26.224 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [VideosLikes]
OUTPUT 1
WHERE [UserId] = @p2 AND [VideoId] = @p3;
2024-05-26 19:45:26.228 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__title_0='?' (Size = 4000), @__IsDefult_1='?' (DbType = Boolean), @__userId_2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Title] = @__title_0 AND [p].[IsDefult] = @__IsDefult_1 AND [p].[UserId] = @__userId_2
2024-05-26 19:45:26.228 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:45:26.229 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 19:45:26.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PlaylistVideos]
OUTPUT 1
WHERE [PlaylistId] = @p0 AND [VideoId] = @p1;
2024-05-26 19:45:26.230 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:45:26.230 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api) in 15.7147ms
2024-05-26 19:45:26.231 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.LikeVideo (ArabTube.Api)'
2024-05-26 19:45:26.231 +03:00 [INF] HTTP POST /api/Videos/Like responded 200 in 16.0087 ms
2024-05-26 19:45:26.231 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Like?id=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - 200 null text/plain; charset=utf-8 16.5169ms
2024-05-26 19:45:33.338 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 19:45:33.338 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 19:45:33.338 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 19:45:33.341 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 19:45:33.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 19:45:33.343 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 19:45:33.343 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 4.555ms
2024-05-26 19:45:33.343 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 19:45:33.343 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 4.8787 ms
2024-05-26 19:45:33.343 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 200 null application/json; charset=utf-8 5.0966ms
2024-05-26 19:45:54.731 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/Dislike?videoId=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - null 0
2024-05-26 19:45:54.731 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.DislikeVideo (ArabTube.Api)'
2024-05-26 19:45:54.734 +03:00 [INF] Route matched with {action = "DislikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DislikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:45:54.737 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:45:54.739 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:45:54.740 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosDislikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:45:54.748 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Videos] SET [DisLikes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [VideosDislikes] ([UserId], [VideoId])
VALUES (@p2, @p3);
2024-05-26 19:45:54.751 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:45:54.751 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.DislikeVideo (ArabTube.Api) in 16.9808ms
2024-05-26 19:45:54.751 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.DislikeVideo (ArabTube.Api)'
2024-05-26 19:45:54.751 +03:00 [INF] HTTP POST /api/Videos/Dislike responded 200 in 19.9616 ms
2024-05-26 19:45:54.751 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/Dislike?videoId=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - 200 null text/plain; charset=utf-8 20.6094ms
2024-05-26 19:46:01.142 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserDisLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:46:01.142 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api)'
2024-05-26 19:46:01.142 +03:00 [INF] Route matched with {action = "IsUserDisLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserDisLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:46:01.144 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:46:01.145 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:46:01.146 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosDislikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:46:01.146 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:46:01.147 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api) in 4.5451ms
2024-05-26 19:46:01.147 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api)'
2024-05-26 19:46:01.147 +03:00 [INF] HTTP GET /api/Videos/UserDisLike responded 200 in 4.8632 ms
2024-05-26 19:46:01.147 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserDisLike?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 5.4354ms
2024-05-26 19:46:05.200 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/UserDisLike?videoId=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - null null
2024-05-26 19:46:05.201 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api)'
2024-05-26 19:46:05.201 +03:00 [INF] Route matched with {action = "IsUserDisLikeVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserDisLikeVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:46:05.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:46:05.205 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:46:05.206 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[UserId], [v].[VideoId]
FROM [VideosDislikes] AS [v]
WHERE [v].[UserId] = @__p_0 AND [v].[VideoId] = @__p_1
2024-05-26 19:46:05.207 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:46:05.207 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api) in 6.6042ms
2024-05-26 19:46:05.207 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.IsUserDisLikeVideo (ArabTube.Api)'
2024-05-26 19:46:05.207 +03:00 [INF] HTTP GET /api/Videos/UserDisLike responded 200 in 6.8759 ms
2024-05-26 19:46:05.207 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/UserDisLike?videoId=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - 200 null text/plain; charset=utf-8 7.4175ms
2024-05-26 19:46:28.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Videos/Video?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 19:46:28.121 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api)'
2024-05-26 19:46:28.121 +03:00 [INF] Route matched with {action = "WatchVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:46:28.126 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:46:28.130 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.VideoDTOs.ViewVideoDto'.
2024-05-26 19:46:28.132 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api) in 10.2683ms
2024-05-26 19:46:28.132 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.WatchVideo (ArabTube.Api)'
2024-05-26 19:46:28.132 +03:00 [INF] HTTP GET /api/Videos/Video responded 200 in 11.4454 ms
2024-05-26 19:46:28.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Videos/Video?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null application/json; charset=utf-8 13.4672ms
2024-05-26 19:46:50.651 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/View?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null 0
2024-05-26 19:46:50.652 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 19:46:50.654 +03:00 [INF] Route matched with {action = "ViewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:46:50.657 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:46:50.660 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:46:50.665 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [Views] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-05-26 19:46:50.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:46:50.672 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[UserId], [w].[VideoId], [w].[WatchedTime]
FROM [WatchedVideos] AS [w]
WHERE [w].[UserId] = @__p_0 AND [w].[VideoId] = @__p_1
2024-05-26 19:46:50.682 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WatchedVideos] ([UserId], [VideoId], [WatchedTime])
VALUES (@p0, @p1, @p2);
2024-05-26 19:46:50.683 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:46:50.683 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api) in 28.1297ms
2024-05-26 19:46:50.683 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 19:46:50.683 +03:00 [INF] HTTP POST /api/Videos/View responded 200 in 31.1215 ms
2024-05-26 19:46:50.683 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/View?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 31.5506ms
2024-05-26 19:47:10.118 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/View?id=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - null 0
2024-05-26 19:47:10.118 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 19:47:10.118 +03:00 [INF] Route matched with {action = "ViewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 19:47:10.121 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:47:10.122 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:47:10.125 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [Views] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-05-26 19:47:10.126 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 19:47:10.128 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[UserId], [w].[VideoId], [w].[WatchedTime]
FROM [WatchedVideos] AS [w]
WHERE [w].[UserId] = @__p_0 AND [w].[VideoId] = @__p_1
2024-05-26 19:47:10.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WatchedVideos] ([UserId], [VideoId], [WatchedTime])
VALUES (@p0, @p1, @p2);
2024-05-26 19:47:10.129 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 19:47:10.129 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api) in 11.0081ms
2024-05-26 19:47:10.129 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 19:47:10.129 +03:00 [INF] HTTP POST /api/Videos/View responded 200 in 11.3155 ms
2024-05-26 19:47:10.129 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/View?id=61b2a651-96a9-4f8a-af7a-260fb1fd9066 - 200 null text/plain; charset=utf-8 11.8096ms
2024-05-26 19:47:18.037 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/WatchedVideos - null null
2024-05-26 19:47:18.038 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 19:47:18.041 +03:00 [INF] Route matched with {action = "WatchedVideos", controller = "WatchedVideos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchedVideos() on controller ArabTube.Api.Controllers.WatchedVideosController (ArabTube.Api).
2024-05-26 19:47:18.044 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 19:47:18.062 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[UserId], [w].[VideoId], [w].[WatchedTime], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [WatchedVideos] AS [w]
INNER JOIN [Videos] AS [v] ON [w].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0
ORDER BY [w].[WatchedTime] DESC
2024-05-26 19:47:18.182 +03:00 [INF] Executed action ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api) in 141.5741ms
2024-05-26 19:47:18.182 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 19:47:18.183 +03:00 [ERR] HTTP GET /api/WatchedVideos responded 500 in 146.0267 ms
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[ArabTube.Entities.Models.WatchedVideo, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
WatchedVideo -> HistoryVideoDto
ArabTube.Entities.Models.WatchedVideo -> ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto
   at lambda_method1089(Closure, WatchedVideo, HistoryVideoDto, ResolutionContext)
   at lambda_method1088(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method1088(Closure, Object, IEnumerable`1, ResolutionContext)
   at ArabTube.Services.ControllersServices.WatchedVideoServices.ImplementationClasses.WatchedVideoService.GetWatchedVideosAsync(String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\WatchedVideoServices\ImplementationClasses\WatchedVideoService.cs:line 29
   at ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 19:47:18.185 +03:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[ArabTube.Entities.Models.WatchedVideo, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
WatchedVideo -> HistoryVideoDto
ArabTube.Entities.Models.WatchedVideo -> ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto
   at lambda_method1089(Closure, WatchedVideo, HistoryVideoDto, ResolutionContext)
   at lambda_method1088(Closure, Object, IEnumerable`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method1088(Closure, Object, IEnumerable`1, ResolutionContext)
   at ArabTube.Services.ControllersServices.WatchedVideoServices.ImplementationClasses.WatchedVideoService.GetWatchedVideosAsync(String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\WatchedVideoServices\ImplementationClasses\WatchedVideoService.cs:line 29
   at ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 19:47:18.187 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/WatchedVideos - 500 null text/plain; charset=utf-8 150.5083ms
2024-05-26 20:00:57.333 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 20:00:57.495 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 20:00:57.495 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 20:00:57.496 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 20:00:57.497 +03:00 [INF] Hosting environment: Development
2024-05-26 20:00:57.497 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 20:00:57.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:00:57.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 182.8318ms
2024-05-26 20:00:57.988 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:00:57.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.6697ms
2024-05-26 20:00:58.033 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:00:58.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.2087ms
2024-05-26 20:00:58.346 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:00:58.450 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.8658ms
2024-05-26 20:01:23.276 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/WatchedVideos - null null
2024-05-26 20:01:23.369 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:01:23.382 +03:00 [INF] Route matched with {action = "WatchedVideos", controller = "WatchedVideos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchedVideos() on controller ArabTube.Api.Controllers.WatchedVideosController (ArabTube.Api).
2024-05-26 20:01:24.720 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:01:24.895 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[UserId], [w].[VideoId], [w].[WatchedTime], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [WatchedVideos] AS [w]
INNER JOIN [Videos] AS [v] ON [w].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0
ORDER BY [w].[WatchedTime] DESC
2024-05-26 20:01:24.965 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:01:24.993 +03:00 [INF] Executed action ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api) in 1608.3451ms
2024-05-26 20:01:24.994 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:01:24.995 +03:00 [INF] HTTP GET /api/WatchedVideos responded 200 in 1711.0398 ms
2024-05-26 20:01:25.000 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/WatchedVideos - 200 null application/json; charset=utf-8 1724.7807ms
2024-05-26 20:01:55.467 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/View?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null 0
2024-05-26 20:01:55.472 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 20:01:55.479 +03:00 [INF] Route matched with {action = "ViewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:01:55.541 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:01:55.553 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:01:55.634 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [Views] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-05-26 20:01:55.645 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:01:55.659 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[UserId], [w].[VideoId], [w].[WatchedTime]
FROM [WatchedVideos] AS [w]
WHERE [w].[UserId] = @__p_0 AND [w].[VideoId] = @__p_1
2024-05-26 20:01:55.663 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (Size = 450), @p2='?' (Size = 450), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WatchedVideos] SET [WatchedTime] = @p0
OUTPUT 1
WHERE [UserId] = @p1 AND [VideoId] = @p2;
2024-05-26 20:01:55.664 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:01:55.664 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api) in 184.6703ms
2024-05-26 20:01:55.664 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 20:01:55.664 +03:00 [INF] HTTP POST /api/Videos/View responded 200 in 194.3637 ms
2024-05-26 20:01:55.665 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/View?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 197.3757ms
2024-05-26 20:02:00.292 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/WatchedVideos - null null
2024-05-26 20:02:00.296 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:02:00.296 +03:00 [INF] Route matched with {action = "WatchedVideos", controller = "WatchedVideos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchedVideos() on controller ArabTube.Api.Controllers.WatchedVideosController (ArabTube.Api).
2024-05-26 20:02:00.314 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:02:00.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[UserId], [w].[VideoId], [w].[WatchedTime], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [WatchedVideos] AS [w]
INNER JOIN [Videos] AS [v] ON [w].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0
ORDER BY [w].[WatchedTime] DESC
2024-05-26 20:02:00.321 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:02:00.324 +03:00 [INF] Executed action ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api) in 27.9424ms
2024-05-26 20:02:00.324 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:02:00.324 +03:00 [INF] HTTP GET /api/WatchedVideos responded 200 in 32.3915 ms
2024-05-26 20:02:00.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/WatchedVideos - 200 null application/json; charset=utf-8 32.8753ms
2024-05-26 20:02:16.677 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/WatchedVideos?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 20:02:16.677 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.WatchedVideosController.Delete (ArabTube.Api)'
2024-05-26 20:02:16.680 +03:00 [INF] Route matched with {action = "Delete", controller = "WatchedVideos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.String) on controller ArabTube.Api.Controllers.WatchedVideosController (ArabTube.Api).
2024-05-26 20:02:16.684 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:02:16.687 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:02:16.692 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__videoId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[UserId], [w].[VideoId], [w].[WatchedTime]
FROM [WatchedVideos] AS [w]
WHERE [w].[VideoId] = @__videoId_0 AND [w].[UserId] = @__userId_1
2024-05-26 20:02:16.709 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [WatchedVideos]
OUTPUT 1
WHERE [UserId] = @p0 AND [VideoId] = @p1;
2024-05-26 20:02:16.713 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:02:16.713 +03:00 [INF] Executed action ArabTube.Api.Controllers.WatchedVideosController.Delete (ArabTube.Api) in 32.442ms
2024-05-26 20:02:16.713 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.WatchedVideosController.Delete (ArabTube.Api)'
2024-05-26 20:02:16.713 +03:00 [INF] HTTP DELETE /api/WatchedVideos responded 200 in 35.7122 ms
2024-05-26 20:02:16.713 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/WatchedVideos?videoId=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 36.1444ms
2024-05-26 20:02:20.836 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/WatchedVideos - null null
2024-05-26 20:02:20.836 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:02:20.836 +03:00 [INF] Route matched with {action = "WatchedVideos", controller = "WatchedVideos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchedVideos() on controller ArabTube.Api.Controllers.WatchedVideosController (ArabTube.Api).
2024-05-26 20:02:20.851 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:02:20.853 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[UserId], [w].[VideoId], [w].[WatchedTime], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [WatchedVideos] AS [w]
INNER JOIN [Videos] AS [v] ON [w].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0
ORDER BY [w].[WatchedTime] DESC
2024-05-26 20:02:20.855 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:02:20.857 +03:00 [INF] Executed action ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api) in 20.0949ms
2024-05-26 20:02:20.857 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:02:20.857 +03:00 [INF] HTTP GET /api/WatchedVideos responded 200 in 20.8270 ms
2024-05-26 20:02:20.857 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/WatchedVideos - 200 null application/json; charset=utf-8 21.2862ms
2024-05-26 20:03:01.116 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Videos/Update?Title=stl%201&Description=video%201&id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - multipart/form-data; boundary=----WebKitFormBoundary7GnNgSYQ2svkYpE3 73531
2024-05-26 20:03:01.121 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:03:01.125 +03:00 [INF] Route matched with {action = "UpdateVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVideo(ArabTube.Entities.DtoModels.VideoDTOs.UpdatingVideoDto, System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:03:01.151 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:03:01.154 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:03:01.175 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p11='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 2000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = -1) (DbType = Binary), @p6='?' (Size = 256), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450), @p9='?' (Size = 500), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [CreatedOn] = @p0, [Description] = @p1, [DisLikes] = @p2, [Flags] = @p3, [Likes] = @p4, [Thumbnail] = @p5, [Title] = @p6, [UpdatedOn] = @p7, [UserId] = @p8, [VideoUri] = @p9, [Views] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2024-05-26 20:03:01.327 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api) in 201.1377ms
2024-05-26 20:03:01.327 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:03:01.327 +03:00 [ERR] HTTP PUT /api/Videos/Update responded 500 in 206.6638 ms
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.UpdateVideoAsync(UpdatingVideoDto updateDto, String videoId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\VideoServices\ImplementationClasses\VideoService.cs:line 330
   at ArabTube.Api.Controllers.VideosController.UpdateVideo(UpdatingVideoDto model, String id) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 339
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 20:03:01.346 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.UpdateVideoAsync(UpdatingVideoDto updateDto, String videoId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\VideoServices\ImplementationClasses\VideoService.cs:line 330
   at ArabTube.Api.Controllers.VideosController.UpdateVideo(UpdatingVideoDto model, String id) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 339
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 20:03:01.353 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7204/api/Videos/Update?Title=stl%201&Description=video%201&id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 500 null text/plain; charset=utf-8 237.6182ms
2024-05-26 20:06:51.202 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Videos/Update?Title=stl%201&Description=video%201&id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - multipart/form-data; boundary=----WebKitFormBoundarypDW3rs3g7U0MrRlR 73531
2024-05-26 20:06:51.206 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:06:51.207 +03:00 [INF] Route matched with {action = "UpdateVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVideo(ArabTube.Entities.DtoModels.VideoDTOs.UpdatingVideoDto, System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:06:51.215 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:06:51.216 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:06:51.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p11='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 2000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = -1) (DbType = Binary), @p6='?' (Size = 256), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450), @p9='?' (Size = 500), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [CreatedOn] = @p0, [Description] = @p1, [DisLikes] = @p2, [Flags] = @p3, [Likes] = @p4, [Thumbnail] = @p5, [Title] = @p6, [UpdatedOn] = @p7, [UserId] = @p8, [VideoUri] = @p9, [Views] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2024-05-26 20:06:51.328 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api) in 120.3039ms
2024-05-26 20:06:51.328 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:06:51.328 +03:00 [ERR] HTTP PUT /api/Videos/Update responded 500 in 125.5182 ms
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.UpdateVideoAsync(UpdatingVideoDto updateDto, String videoId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\VideoServices\ImplementationClasses\VideoService.cs:line 330
   at ArabTube.Api.Controllers.VideosController.UpdateVideo(UpdatingVideoDto model, String id) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 339
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 20:06:51.330 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.UpdateVideoAsync(UpdatingVideoDto updateDto, String videoId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\VideoServices\ImplementationClasses\VideoService.cs:line 330
   at ArabTube.Api.Controllers.VideosController.UpdateVideo(UpdatingVideoDto model, String id) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 339
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 20:06:51.332 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7204/api/Videos/Update?Title=stl%201&Description=video%201&id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 500 null text/plain; charset=utf-8 130.1034ms
2024-05-26 20:12:06.579 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 20:12:06.743 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 20:12:06.743 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 20:12:06.744 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 20:12:06.745 +03:00 [INF] Hosting environment: Development
2024-05-26 20:12:06.745 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 20:12:06.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:12:07.126 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 167.6137ms
2024-05-26 20:12:07.170 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:12:07.175 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.2329ms
2024-05-26 20:12:07.202 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:12:07.240 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.3668ms
2024-05-26 20:12:07.528 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:12:07.635 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.4677ms
2024-05-26 20:13:02.750 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 20:13:02.907 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 20:13:02.907 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 20:13:02.908 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 20:13:02.909 +03:00 [INF] Hosting environment: Development
2024-05-26 20:13:02.909 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 20:13:06.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:13:06.542 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 165.8613ms
2024-05-26 20:13:06.576 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:13:06.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.6892ms
2024-05-26 20:13:06.614 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:13:06.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 26.2911ms
2024-05-26 20:13:06.908 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:13:07.006 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.346ms
2024-05-26 20:13:43.151 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - multipart/form-data; boundary=----WebKitFormBoundary5n8zLMzDsDQPIBZN 73733
2024-05-26 20:13:43.238 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:13:43.254 +03:00 [INF] Route matched with {action = "UpdateVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVideo(ArabTube.Entities.DtoModels.VideoDTOs.UpdatingVideoDto, System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:13:44.622 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:13:44.772 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:13:44.918 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p11='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 2000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = -1) (DbType = Binary), @p6='?' (Size = 256), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450), @p9='?' (Size = 500), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [CreatedOn] = @p0, [Description] = @p1, [DisLikes] = @p2, [Flags] = @p3, [Likes] = @p4, [Thumbnail] = @p5, [Title] = @p6, [UpdatedOn] = @p7, [UserId] = @p8, [VideoUri] = @p9, [Views] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2024-05-26 20:13:45.072 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api) in 1815.2176ms
2024-05-26 20:13:45.073 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:13:45.076 +03:00 [ERR] HTTP PUT /api/Videos/Update responded 500 in 1915.7346 ms
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.UpdateVideoAsync(UpdatingVideoDto updateDto, String videoId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\VideoServices\ImplementationClasses\VideoService.cs:line 330
   at ArabTube.Api.Controllers.VideosController.UpdateVideo(UpdatingVideoDto model, String id) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 339
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 20:13:45.094 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.VideoServices.ImplementationClasses.VideoService.UpdateVideoAsync(UpdatingVideoDto updateDto, String videoId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\VideoServices\ImplementationClasses\VideoService.cs:line 330
   at ArabTube.Api.Controllers.VideosController.UpdateVideo(UpdatingVideoDto model, String id) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\VideosController.cs:line 339
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 20:13:45.104 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 500 null text/plain; charset=utf-8 1953.5691ms
2024-05-26 20:14:16.051 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - multipart/form-data; boundary=----WebKitFormBoundaryQh7QAAZxLzLetymy 73733
2024-05-26 20:14:16.061 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:14:16.061 +03:00 [INF] Route matched with {action = "UpdateVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVideo(ArabTube.Entities.DtoModels.VideoDTOs.UpdatingVideoDto, System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:14:16.117 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:14:16.120 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:18:22.390 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 20:18:22.545 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 20:18:22.545 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 20:18:22.546 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 20:18:22.546 +03:00 [INF] Hosting environment: Development
2024-05-26 20:18:22.547 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 20:18:22.967 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:18:23.123 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 160.0302ms
2024-05-26 20:18:23.173 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:18:23.180 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 7.1171ms
2024-05-26 20:18:23.201 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:18:23.244 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.1224ms
2024-05-26 20:18:23.510 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:18:23.626 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.7144ms
2024-05-26 20:18:55.363 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - multipart/form-data; boundary=----WebKitFormBoundaryxQ9JmMwmobAFKg0n 73733
2024-05-26 20:18:55.450 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:18:55.468 +03:00 [INF] Route matched with {action = "UpdateVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVideo(ArabTube.Entities.DtoModels.VideoDTOs.UpdatingVideoDto, System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:18:56.863 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:18:57.020 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:25:10.044 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 20:25:10.206 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 20:25:10.206 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 20:25:10.207 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 20:25:10.207 +03:00 [INF] Hosting environment: Development
2024-05-26 20:25:10.207 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 20:25:10.537 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:25:10.703 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 172.3074ms
2024-05-26 20:25:10.740 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:25:10.746 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 5.8809ms
2024-05-26 20:25:10.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:25:10.811 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.8049ms
2024-05-26 20:25:11.087 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:25:11.200 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 112.2211ms
2024-05-26 20:25:44.259 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - multipart/form-data; boundary=----WebKitFormBoundarykor0SMKZ8LYW3lCw 73733
2024-05-26 20:25:44.341 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:25:44.360 +03:00 [INF] Route matched with {action = "UpdateVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVideo(ArabTube.Entities.DtoModels.VideoDTOs.UpdatingVideoDto, System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:25:45.679 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:25:45.832 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:25:56.857 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p11='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 2000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = -1) (DbType = Binary), @p6='?' (Size = 256), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450), @p9='?' (Size = 500), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [CreatedOn] = @p0, [Description] = @p1, [DisLikes] = @p2, [Flags] = @p3, [Likes] = @p4, [Thumbnail] = @p5, [Title] = @p6, [UpdatedOn] = @p7, [UserId] = @p8, [VideoUri] = @p9, [Views] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2024-05-26 20:25:56.871 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:25:56.875 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api) in 12511.8246ms
2024-05-26 20:25:56.876 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:25:56.878 +03:00 [INF] HTTP PUT /api/Videos/Update responded 200 in 12610.2880 ms
2024-05-26 20:25:56.884 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 12624.5497ms
2024-05-26 20:27:03.035 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - multipart/form-data; boundary=----WebKitFormBoundaryrBURK9MXR4FQAUYc 73733
2024-05-26 20:27:03.047 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:27:03.048 +03:00 [INF] Route matched with {action = "UpdateVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVideo(ArabTube.Entities.DtoModels.VideoDTOs.UpdatingVideoDto, System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:27:03.098 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:27:03.101 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:27:03.111 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p11='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 2000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = -1) (DbType = Binary), @p6='?' (Size = 256), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450), @p9='?' (Size = 500), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [CreatedOn] = @p0, [Description] = @p1, [DisLikes] = @p2, [Flags] = @p3, [Likes] = @p4, [Thumbnail] = @p5, [Title] = @p6, [UpdatedOn] = @p7, [UserId] = @p8, [VideoUri] = @p9, [Views] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2024-05-26 20:27:03.112 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:27:03.112 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api) in 64.0011ms
2024-05-26 20:27:03.112 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:27:03.112 +03:00 [INF] HTTP PUT /api/Videos/Update responded 200 in 66.5321 ms
2024-05-26 20:27:03.112 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 77.9085ms
2024-05-26 20:27:15.304 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - multipart/form-data; boundary=----WebKitFormBoundarydoftdRbyFz9sYLdr 73733
2024-05-26 20:27:15.307 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:27:15.308 +03:00 [INF] Route matched with {action = "UpdateVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateVideo(ArabTube.Entities.DtoModels.VideoDTOs.UpdatingVideoDto, System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:27:15.331 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:27:15.334 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:27:15.341 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p11='?' (Size = 450), @p0='?' (DbType = DateTime2), @p1='?' (Size = 2000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Size = -1) (DbType = Binary), @p6='?' (Size = 256), @p7='?' (DbType = DateTime2), @p8='?' (Size = 450), @p9='?' (Size = 500), @p10='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [CreatedOn] = @p0, [Description] = @p1, [DisLikes] = @p2, [Flags] = @p3, [Likes] = @p4, [Thumbnail] = @p5, [Title] = @p6, [UpdatedOn] = @p7, [UserId] = @p8, [VideoUri] = @p9, [Views] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2024-05-26 20:27:15.341 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:27:15.341 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api) in 33.6385ms
2024-05-26 20:27:15.341 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.UpdateVideo (ArabTube.Api)'
2024-05-26 20:27:15.342 +03:00 [INF] HTTP PUT /api/Videos/Update responded 200 in 36.6622 ms
2024-05-26 20:27:15.342 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7204/api/Videos/Update?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 37.6541ms
2024-05-26 20:27:37.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/WatchedVideos - null null
2024-05-26 20:27:37.829 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:27:37.832 +03:00 [INF] Route matched with {action = "WatchedVideos", controller = "WatchedVideos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchedVideos() on controller ArabTube.Api.Controllers.WatchedVideosController (ArabTube.Api).
2024-05-26 20:27:37.836 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:27:37.858 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[UserId], [w].[VideoId], [w].[WatchedTime], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [WatchedVideos] AS [w]
INNER JOIN [Videos] AS [v] ON [w].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0
ORDER BY [w].[WatchedTime] DESC
2024-05-26 20:27:37.880 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:27:37.893 +03:00 [INF] Executed action ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api) in 61.0814ms
2024-05-26 20:27:37.893 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:27:37.893 +03:00 [INF] HTTP GET /api/WatchedVideos responded 200 in 64.6150 ms
2024-05-26 20:27:37.893 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/WatchedVideos - 200 null application/json; charset=utf-8 72.5832ms
2024-05-26 20:27:47.631 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 20:27:47.632 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:27:47.634 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:27:47.638 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:27:47.649 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 20:27:47.664 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:27:47.665 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 30.1239ms
2024-05-26 20:27:47.665 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:27:47.665 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 32.9770 ms
2024-05-26 20:27:47.665 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 33.5022ms
2024-05-26 20:28:06.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 20:28:06.185 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:28:06.187 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:28:06.202 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:28:06.217 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:28:06.228 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:28:06.230 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 42.2234ms
2024-05-26 20:28:06.230 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:28:06.230 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 45.5348 ms
2024-05-26 20:28:06.230 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 200 null application/json; charset=utf-8 47.416ms
2024-05-26 20:28:37.108 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/Playlists/RemoveVideo - application/json 111
2024-05-26 20:28:37.128 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api)'
2024-05-26 20:28:37.130 +03:00 [INF] Route matched with {action = "RemoveVideoFromPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveVideoFromPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.RemovePlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:28:37.139 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:28:37.143 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:28:37.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:28:37.152 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 20:28:37.165 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PlaylistVideos]
OUTPUT 1
WHERE [PlaylistId] = @p0 AND [VideoId] = @p1;
2024-05-26 20:28:37.169 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:28:37.169 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api) in 38.5585ms
2024-05-26 20:28:37.169 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api)'
2024-05-26 20:28:37.169 +03:00 [INF] HTTP DELETE /api/Playlists/RemoveVideo responded 200 in 56.8599 ms
2024-05-26 20:28:37.169 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/Playlists/RemoveVideo - 200 null text/plain; charset=utf-8 61.8751ms
2024-05-26 20:28:43.331 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 20:28:43.332 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:28:43.332 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:28:43.335 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:28:43.352 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:28:43.354 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:28:43.354 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 22.6783ms
2024-05-26 20:28:43.354 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:28:43.354 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 23.0831 ms
2024-05-26 20:28:43.355 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 200 null application/json; charset=utf-8 23.3938ms
2024-05-26 20:29:03.249 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/View?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null 0
2024-05-26 20:29:03.250 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 20:29:03.259 +03:00 [INF] Route matched with {action = "ViewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:29:03.266 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:29:03.268 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:29:03.269 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:29:03.269 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api) in 10.6909ms
2024-05-26 20:29:03.269 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 20:29:03.269 +03:00 [INF] HTTP POST /api/Videos/View responded 400 in 19.8885 ms
2024-05-26 20:29:03.270 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/View?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 400 null text/plain; charset=utf-8 20.1941ms
2024-05-26 20:29:12.485 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Videos/View?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null 0
2024-05-26 20:29:12.486 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 20:29:12.486 +03:00 [INF] Route matched with {action = "ViewVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:29:12.489 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:29:12.491 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:29:12.499 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Videos] SET [Views] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-05-26 20:29:12.502 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:29:12.507 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[UserId], [w].[VideoId], [w].[WatchedTime]
FROM [WatchedVideos] AS [w]
WHERE [w].[UserId] = @__p_0 AND [w].[VideoId] = @__p_1
2024-05-26 20:29:12.526 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WatchedVideos] ([UserId], [VideoId], [WatchedTime])
VALUES (@p0, @p1, @p2);
2024-05-26 20:29:12.526 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:29:12.526 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api) in 40.5591ms
2024-05-26 20:29:12.526 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.ViewVideo (ArabTube.Api)'
2024-05-26 20:29:12.526 +03:00 [INF] HTTP POST /api/Videos/View responded 200 in 40.9733 ms
2024-05-26 20:29:12.526 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Videos/View?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 41.2956ms
2024-05-26 20:29:18.997 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/WatchedVideos - null null
2024-05-26 20:29:18.997 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:29:18.997 +03:00 [INF] Route matched with {action = "WatchedVideos", controller = "WatchedVideos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchedVideos() on controller ArabTube.Api.Controllers.WatchedVideosController (ArabTube.Api).
2024-05-26 20:29:18.999 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:29:19.003 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[UserId], [w].[VideoId], [w].[WatchedTime], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [WatchedVideos] AS [w]
INNER JOIN [Videos] AS [v] ON [w].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0
ORDER BY [w].[WatchedTime] DESC
2024-05-26 20:29:19.005 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:29:19.012 +03:00 [INF] Executed action ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api) in 15.1074ms
2024-05-26 20:29:19.012 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:29:19.012 +03:00 [INF] HTTP GET /api/WatchedVideos responded 200 in 15.5487 ms
2024-05-26 20:29:19.012 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/WatchedVideos - 200 null application/json; charset=utf-8 15.8164ms
2024-05-26 20:29:30.511 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 20:29:30.511 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:29:30.511 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:29:30.514 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:29:30.518 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:29:30.519 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:29:30.519 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 8.3892ms
2024-05-26 20:29:30.519 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:29:30.519 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 8.7432 ms
2024-05-26 20:29:30.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 200 null application/json; charset=utf-8 9.1547ms
2024-05-26 20:29:47.521 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/Videos/Delete?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - null null
2024-05-26 20:29:47.521 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.VideosController.DeleteVideo (ArabTube.Api)'
2024-05-26 20:29:47.537 +03:00 [INF] Route matched with {action = "DeleteVideo", controller = "Videos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteVideo(System.String) on controller ArabTube.Api.Controllers.VideosController (ArabTube.Api).
2024-05-26 20:29:47.543 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:29:47.547 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:29:47.554 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__videoId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[VideoId] = @__videoId_0 AND [c].[Id] <> [c].[ParentCommentId]
2024-05-26 20:29:47.557 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__videoId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[VideoId] = @__videoId_0
2024-05-26 20:29:47.559 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:29:47.993 +03:00 [INF] Executed DbCommand (430ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Videos]
OUTPUT 1
WHERE [Id] = @p0;
2024-05-26 20:29:47.994 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:29:47.994 +03:00 [INF] Executed action ArabTube.Api.Controllers.VideosController.DeleteVideo (ArabTube.Api) in 456.5311ms
2024-05-26 20:29:47.994 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.VideosController.DeleteVideo (ArabTube.Api)'
2024-05-26 20:29:47.994 +03:00 [INF] HTTP DELETE /api/Videos/Delete responded 200 in 472.8961 ms
2024-05-26 20:29:47.994 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/Videos/Delete?id=4a2164f0-7a5d-41d9-b587-95aaf2c4985a - 200 null text/plain; charset=utf-8 473.1917ms
2024-05-26 20:29:52.965 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/WatchedVideos - null null
2024-05-26 20:29:52.965 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:29:52.965 +03:00 [INF] Route matched with {action = "WatchedVideos", controller = "WatchedVideos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] WatchedVideos() on controller ArabTube.Api.Controllers.WatchedVideosController (ArabTube.Api).
2024-05-26 20:29:52.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:29:52.971 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[UserId], [w].[VideoId], [w].[WatchedTime], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [WatchedVideos] AS [w]
INNER JOIN [Videos] AS [v] ON [w].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [w].[UserId] = @__userId_0
ORDER BY [w].[WatchedTime] DESC
2024-05-26 20:29:52.972 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.WatchedVideoDto.HistoryVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:29:52.973 +03:00 [INF] Executed action ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api) in 7.8934ms
2024-05-26 20:29:52.973 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.WatchedVideosController.WatchedVideos (ArabTube.Api)'
2024-05-26 20:29:52.973 +03:00 [INF] HTTP GET /api/WatchedVideos responded 200 in 8.2847 ms
2024-05-26 20:29:52.973 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/WatchedVideos - 200 null application/json; charset=utf-8 8.584ms
2024-05-26 20:30:07.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 20:30:07.413 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:30:07.413 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:30:07.416 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:30:07.417 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:30:07.417 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:30:07.417 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 4.0282ms
2024-05-26 20:30:07.417 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:30:07.417 +03:00 [INF] HTTP GET /api/Playlists/Video responded 400 in 4.4229 ms
2024-05-26 20:30:07.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 400 null text/plain; charset=utf-8 4.7476ms
2024-05-26 20:30:27.990 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Subscriptions - null null
2024-05-26 20:30:27.990 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api)'
2024-05-26 20:30:27.993 +03:00 [INF] Route matched with {action = "Following", controller = "Subscriptions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Following() on controller ArabTube.Api.Controllers.SubscriptionsController (ArabTube.Api).
2024-05-26 20:30:27.995 +03:00 [INF] Executed action ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api) in 1.9592ms
2024-05-26 20:30:27.995 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api)'
2024-05-26 20:30:27.996 +03:00 [ERR] HTTP GET /api/Subscriptions responded 500 in 5.8628 ms
System.InvalidOperationException: Unable to resolve service for type 'ArabTube.Services.ControllersServices.SubscriptionServices.Interfaces.ISubscriptionService' while attempting to activate 'ArabTube.Api.Controllers.SubscriptionsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method810(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 20:30:28.001 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ArabTube.Services.ControllersServices.SubscriptionServices.Interfaces.ISubscriptionService' while attempting to activate 'ArabTube.Api.Controllers.SubscriptionsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method810(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 20:30:28.003 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Subscriptions - 500 null text/plain; charset=utf-8 13.0973ms
2024-05-26 20:31:26.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:31:26.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 17.5503ms
2024-05-26 20:31:26.263 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:31:26.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.7382ms
2024-05-26 20:31:26.272 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:31:26.289 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 16.7671ms
2024-05-26 20:31:26.578 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:31:26.594 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.1136ms
2024-05-26 20:31:44.358 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 20:31:44.523 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 20:31:44.523 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 20:31:44.524 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 20:31:44.524 +03:00 [INF] Hosting environment: Development
2024-05-26 20:31:44.524 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 20:31:47.841 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:31:47.981 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 142.8708ms
2024-05-26 20:31:48.013 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:31:48.017 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.6895ms
2024-05-26 20:31:48.051 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:31:48.079 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.0892ms
2024-05-26 20:31:48.349 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:31:48.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.6148ms
2024-05-26 20:32:10.009 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Subscriptions - null null
2024-05-26 20:32:10.094 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api)'
2024-05-26 20:32:10.105 +03:00 [INF] Route matched with {action = "Following", controller = "Subscriptions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Following() on controller ArabTube.Api.Controllers.SubscriptionsController (ArabTube.Api).
2024-05-26 20:32:11.259 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:32:11.419 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[FollowerId], [s].[FollowingId], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Subscribers] AS [s]
INNER JOIN [AspNetUsers] AS [a] ON [s].[FollowingId] = [a].[Id]
WHERE [s].[FollowerId] = @__id_0
2024-05-26 20:32:11.425 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:32:11.430 +03:00 [INF] Executed action ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api) in 1320.8898ms
2024-05-26 20:32:11.430 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api)'
2024-05-26 20:32:11.432 +03:00 [INF] HTTP GET /api/Subscriptions responded 400 in 1413.7622 ms
2024-05-26 20:32:11.436 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Subscriptions - 400 null text/plain; charset=utf-8 1430.9822ms
2024-05-26 20:32:29.159 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Subscriptions/Subscribe?ownerId=b793e4a1-a8fc-4caf-9413-89b7e2d2399e - null 0
2024-05-26 20:32:29.162 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Subscribe (ArabTube.Api)'
2024-05-26 20:32:29.170 +03:00 [INF] Route matched with {action = "Subscribe", controller = "Subscriptions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Subscribe(System.String) on controller ArabTube.Api.Controllers.SubscriptionsController (ArabTube.Api).
2024-05-26 20:32:29.227 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:32:29.240 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 20:32:29.246 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[FollowerId], [s].[FollowingId]
FROM [Subscribers] AS [s]
WHERE [s].[FollowerId] = @__p_0 AND [s].[FollowingId] = @__p_1
2024-05-26 20:32:29.351 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subscribers] ([FollowerId], [FollowingId])
VALUES (@p0, @p1);
2024-05-26 20:32:29.359 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:32:29.359 +03:00 [INF] Executed action ArabTube.Api.Controllers.SubscriptionsController.Subscribe (ArabTube.Api) in 189.1976ms
2024-05-26 20:32:29.359 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Subscribe (ArabTube.Api)'
2024-05-26 20:32:29.359 +03:00 [INF] HTTP POST /api/Subscriptions/Subscribe responded 200 in 199.4426 ms
2024-05-26 20:32:29.360 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Subscriptions/Subscribe?ownerId=b793e4a1-a8fc-4caf-9413-89b7e2d2399e - 200 null text/plain; charset=utf-8 201.2699ms
2024-05-26 20:32:34.424 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Subscriptions - null null
2024-05-26 20:32:34.427 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api)'
2024-05-26 20:32:34.428 +03:00 [INF] Route matched with {action = "Following", controller = "Subscriptions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Following() on controller ArabTube.Api.Controllers.SubscriptionsController (ArabTube.Api).
2024-05-26 20:32:34.448 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:32:34.455 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[FollowerId], [s].[FollowingId], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Subscribers] AS [s]
INNER JOIN [AspNetUsers] AS [a] ON [s].[FollowingId] = [a].[Id]
WHERE [s].[FollowerId] = @__id_0
2024-05-26 20:32:34.459 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[ArabTube.Entities.Models.AppUserConnection, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[ArabTube.Entities.DtoModels.UserConnectionsDto.FollowingDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:32:34.462 +03:00 [INF] Executed action ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api) in 33.5991ms
2024-05-26 20:32:34.462 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api)'
2024-05-26 20:32:34.462 +03:00 [INF] HTTP GET /api/Subscriptions responded 200 in 37.6350 ms
2024-05-26 20:32:34.462 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Subscriptions - 200 null application/json; charset=utf-8 38.3231ms
2024-05-26 20:32:40.456 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/Subscriptions/UnSubscribe?ownerId=b793e4a1-a8fc-4caf-9413-89b7e2d2399e - null null
2024-05-26 20:32:40.467 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.SubscriptionsController.UnScbscribe (ArabTube.Api)'
2024-05-26 20:32:40.470 +03:00 [INF] Route matched with {action = "UnScbscribe", controller = "Subscriptions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UnScbscribe(System.String) on controller ArabTube.Api.Controllers.SubscriptionsController (ArabTube.Api).
2024-05-26 20:32:40.475 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:32:40.478 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 20:32:40.480 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[FollowerId], [s].[FollowingId]
FROM [Subscribers] AS [s]
WHERE [s].[FollowerId] = @__p_0 AND [s].[FollowingId] = @__p_1
2024-05-26 20:32:40.492 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Subscribers]
OUTPUT 1
WHERE [FollowerId] = @p0 AND [FollowingId] = @p1;
2024-05-26 20:32:40.497 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:32:40.498 +03:00 [INF] Executed action ArabTube.Api.Controllers.SubscriptionsController.UnScbscribe (ArabTube.Api) in 27.9556ms
2024-05-26 20:32:40.498 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.SubscriptionsController.UnScbscribe (ArabTube.Api)'
2024-05-26 20:32:40.498 +03:00 [INF] HTTP DELETE /api/Subscriptions/UnSubscribe responded 200 in 31.3578 ms
2024-05-26 20:32:40.498 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/Subscriptions/UnSubscribe?ownerId=b793e4a1-a8fc-4caf-9413-89b7e2d2399e - 200 null text/plain; charset=utf-8 41.6685ms
2024-05-26 20:32:46.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Subscriptions - null null
2024-05-26 20:32:46.164 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api)'
2024-05-26 20:32:46.164 +03:00 [INF] Route matched with {action = "Following", controller = "Subscriptions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Following() on controller ArabTube.Api.Controllers.SubscriptionsController (ArabTube.Api).
2024-05-26 20:32:46.167 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:32:46.170 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[FollowerId], [s].[FollowingId], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Subscribers] AS [s]
INNER JOIN [AspNetUsers] AS [a] ON [s].[FollowingId] = [a].[Id]
WHERE [s].[FollowerId] = @__id_0
2024-05-26 20:32:46.170 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:32:46.170 +03:00 [INF] Executed action ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api) in 6.1757ms
2024-05-26 20:32:46.171 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.SubscriptionsController.Following (ArabTube.Api)'
2024-05-26 20:32:46.171 +03:00 [INF] HTTP GET /api/Subscriptions responded 400 in 6.6951 ms
2024-05-26 20:32:46.171 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Subscriptions - 400 null text/plain; charset=utf-8 7.0325ms
2024-05-26 20:32:56.089 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/searchTitles?query=l - null null
2024-05-26 20:32:56.090 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SearchPlaylistsTitles (ArabTube.Api)'
2024-05-26 20:32:56.101 +03:00 [INF] Route matched with {action = "SearchPlaylistsTitles", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchPlaylistsTitles(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:32:56.220 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__query_0_contains='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Title]
FROM [Playlists] AS [p]
WHERE ([p].[Title] LIKE @__query_0_contains ESCAPE N'\' OR [p].[Description] LIKE @__query_0_contains ESCAPE N'\') AND [p].[IsPrivate] = CAST(0 AS bit)
2024-05-26 20:32:56.224 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:32:56.224 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SearchPlaylistsTitles (ArabTube.Api) in 122.3885ms
2024-05-26 20:32:56.224 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SearchPlaylistsTitles (ArabTube.Api)'
2024-05-26 20:32:56.224 +03:00 [INF] HTTP GET /api/Playlists/searchTitles responded 400 in 134.5733 ms
2024-05-26 20:32:56.224 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/searchTitles?query=l - 400 null text/plain; charset=utf-8 135.3451ms
2024-05-26 20:33:03.065 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 20:33:03.077 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:33:03.082 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:33:03.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:33:03.092 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 20:33:03.113 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:33:03.114 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 31.9385ms
2024-05-26 20:33:03.115 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:33:03.115 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 38.2983 ms
2024-05-26 20:33:03.115 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 49.7892ms
2024-05-26 20:36:23.499 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=9fe7fe93-56dd-4df2-9d1a-6903bbd928c2 - null null
2024-05-26 20:36:23.500 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:36:23.507 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:36:23.516 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:36:23.530 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:36:23.531 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:36:23.531 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 23.9159ms
2024-05-26 20:36:23.531 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:36:23.531 +03:00 [INF] HTTP GET /api/Playlists/Video responded 400 in 31.2331 ms
2024-05-26 20:36:23.531 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=9fe7fe93-56dd-4df2-9d1a-6903bbd928c2 - 400 null text/plain; charset=utf-8 54.0481ms
2024-05-26 20:36:42.362 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - null null
2024-05-26 20:36:42.362 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:36:42.362 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:36:42.366 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:36:42.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:36:42.407 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:36:42.407 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 44.279ms
2024-05-26 20:36:42.407 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:36:42.407 +03:00 [INF] HTTP GET /api/Playlists/Video responded 400 in 44.7409 ms
2024-05-26 20:36:42.407 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=4c741e26-2050-49ee-9837-ec53ab50f279 - 400 null text/plain; charset=utf-8 45.0592ms
2024-05-26 20:37:39.114 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Create - application/json 104
2024-05-26 20:37:39.115 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.Create (ArabTube.Api)'
2024-05-26 20:37:39.118 +03:00 [INF] Route matched with {action = "Create", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(ArabTube.Entities.DtoModels.PlaylistDTOs.CreatePlaylistDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:37:39.129 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:37:39.141 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-26 20:37:39.142 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:37:39.142 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.Create (ArabTube.Api) in 23.4942ms
2024-05-26 20:37:39.142 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.Create (ArabTube.Api)'
2024-05-26 20:37:39.142 +03:00 [INF] HTTP POST /api/Playlists/Create responded 200 in 27.8884 ms
2024-05-26 20:37:39.142 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Create - 200 null text/plain; charset=utf-8 30.8834ms
2024-05-26 20:37:49.039 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 20:37:49.039 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:37:49.039 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:37:49.056 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:37:49.058 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 20:37:49.059 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:37:49.060 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 20.4047ms
2024-05-26 20:37:49.060 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:37:49.060 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 20.7953 ms
2024-05-26 20:37:49.060 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 21.247ms
2024-05-26 20:38:36.729 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - application/json 111
2024-05-26 20:38:36.730 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:38:36.733 +03:00 [INF] Route matched with {action = "AddVideoToPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddVideoToPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.AddPlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:38:36.739 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:38:36.751 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:38:36.785 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:38:36.790 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 20:38:36.807 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 20:38:36.807 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:38:36.807 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api) in 74.4857ms
2024-05-26 20:38:36.807 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:38:36.808 +03:00 [INF] HTTP POST /api/Playlists/AddVideo responded 200 in 77.9157 ms
2024-05-26 20:38:36.808 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - 200 null text/plain; charset=utf-8 79.151ms
2024-05-26 20:39:01.887 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - application/json 111
2024-05-26 20:39:01.891 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:01.891 +03:00 [INF] Route matched with {action = "AddVideoToPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddVideoToPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.AddPlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:39:01.910 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:39:01.912 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:39:01.914 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:39:01.916 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:39:01.917 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api) in 25.8348ms
2024-05-26 20:39:01.917 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:01.917 +03:00 [INF] HTTP POST /api/Playlists/AddVideo responded 400 in 26.3019 ms
2024-05-26 20:39:01.917 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - 400 null text/plain; charset=utf-8 30.6172ms
2024-05-26 20:39:12.082 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - application/json 111
2024-05-26 20:39:12.082 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:12.082 +03:00 [INF] Route matched with {action = "AddVideoToPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddVideoToPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.AddPlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:39:12.102 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:39:12.110 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:39:12.114 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:39:12.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 20:39:12.116 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:39:12.116 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api) in 33.8716ms
2024-05-26 20:39:12.116 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:12.116 +03:00 [INF] HTTP POST /api/Playlists/AddVideo responded 200 in 34.2225 ms
2024-05-26 20:39:12.116 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - 200 null text/plain; charset=utf-8 34.7032ms
2024-05-26 20:39:25.036 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - application/json 111
2024-05-26 20:39:25.036 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:25.037 +03:00 [INF] Route matched with {action = "AddVideoToPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddVideoToPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.AddPlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:39:25.040 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:39:25.042 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:39:25.045 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:39:25.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 20:39:25.052 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 20:39:25.052 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:39:25.052 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api) in 15.7264ms
2024-05-26 20:39:25.052 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:25.052 +03:00 [INF] HTTP POST /api/Playlists/AddVideo responded 200 in 16.1205 ms
2024-05-26 20:39:25.052 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - 200 null text/plain; charset=utf-8 16.5018ms
2024-05-26 20:39:34.571 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - application/json 111
2024-05-26 20:39:34.572 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:34.572 +03:00 [INF] Route matched with {action = "AddVideoToPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddVideoToPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.AddPlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:39:34.575 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:39:34.576 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:39:34.581 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:39:34.582 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 20:39:34.587 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 20:39:34.587 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:39:34.587 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api) in 15.1898ms
2024-05-26 20:39:34.587 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:34.587 +03:00 [INF] HTTP POST /api/Playlists/AddVideo responded 200 in 15.6433 ms
2024-05-26 20:39:34.587 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - 200 null text/plain; charset=utf-8 15.9817ms
2024-05-26 20:39:43.900 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - application/json 111
2024-05-26 20:39:43.900 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:43.900 +03:00 [INF] Route matched with {action = "AddVideoToPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddVideoToPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.AddPlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:39:43.918 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:39:43.919 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:39:43.923 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:39:43.925 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 20:39:43.928 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PlaylistVideos] ([PlaylistId], [VideoId])
VALUES (@p0, @p1);
2024-05-26 20:39:43.928 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:39:43.928 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api) in 27.5044ms
2024-05-26 20:39:43.928 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.AddVideoToPlaylist (ArabTube.Api)'
2024-05-26 20:39:43.928 +03:00 [INF] HTTP POST /api/Playlists/AddVideo responded 200 in 27.8741 ms
2024-05-26 20:39:43.928 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/AddVideo - 200 null text/plain; charset=utf-8 28.3044ms
2024-05-26 20:39:58.894 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null null
2024-05-26 20:39:58.894 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:39:58.894 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:39:58.897 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:39:58.900 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:39:58.909 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:39:58.914 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 19.8086ms
2024-05-26 20:39:58.914 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:39:58.914 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 20.1803 ms
2024-05-26 20:39:58.914 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 200 null application/json; charset=utf-8 20.7699ms
2024-05-26 20:40:25.370 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:40:25.391 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 20.6477ms
2024-05-26 20:40:25.464 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:40:25.465 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.8808ms
2024-05-26 20:40:25.471 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:40:25.487 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 15.5566ms
2024-05-26 20:40:25.779 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:40:25.792 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.0046ms
2024-05-26 20:41:10.735 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Login - application/json 65
2024-05-26 20:41:10.755 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api)'
2024-05-26 20:41:10.758 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ArabTube.Entities.DtoModels.UserDTOs.LoginDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 20:41:10.772 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 20:41:10.866 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-26 20:41:10.879 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-26 20:41:10.885 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-26 20:41:10.889 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.AuthModels.AuthResult'.
2024-05-26 20:41:10.891 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api) in 132.7835ms
2024-05-26 20:41:10.891 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api)'
2024-05-26 20:41:10.891 +03:00 [INF] HTTP POST /api/Account/Login responded 200 in 155.3399 ms
2024-05-26 20:41:10.892 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Login - 200 null application/json; charset=utf-8 157.2218ms
2024-05-26 20:41:59.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 20:41:59.536 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:41:59.538 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:41:59.555 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:41:59.559 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 20:41:59.560 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:41:59.560 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 22.1488ms
2024-05-26 20:41:59.561 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:41:59.561 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 25.3002 ms
2024-05-26 20:41:59.561 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 26.6858ms
2024-05-26 20:42:10.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null null
2024-05-26 20:42:10.603 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:42:10.605 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:42:10.608 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:42:10.611 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:42:10.614 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:42:10.615 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 10.1015ms
2024-05-26 20:42:10.615 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:42:10.615 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 12.8956 ms
2024-05-26 20:42:10.616 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 200 null application/json; charset=utf-8 14.2377ms
2024-05-26 20:42:26.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null null
2024-05-26 20:42:26.574 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:42:26.574 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:42:26.577 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:42:26.578 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:42:26.581 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:42:26.581 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 6.2381ms
2024-05-26 20:42:26.581 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:42:26.581 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 6.6451 ms
2024-05-26 20:42:26.581 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 200 null application/json; charset=utf-8 7.2357ms
2024-05-26 20:42:46.668 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/Playlists/RemoveVideo - application/json 111
2024-05-26 20:42:46.669 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api)'
2024-05-26 20:42:46.675 +03:00 [INF] Route matched with {action = "RemoveVideoFromPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveVideoFromPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.RemovePlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:42:46.679 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:42:46.683 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 20:42:46.685 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:42:46.687 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__p_0 AND [p].[VideoId] = @__p_1
2024-05-26 20:42:46.692 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PlaylistVideos]
OUTPUT 1
WHERE [PlaylistId] = @p0 AND [VideoId] = @p1;
2024-05-26 20:42:46.692 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:42:46.692 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api) in 17.3733ms
2024-05-26 20:42:46.692 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api)'
2024-05-26 20:42:46.692 +03:00 [INF] HTTP DELETE /api/Playlists/RemoveVideo responded 200 in 23.5287 ms
2024-05-26 20:42:46.692 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/Playlists/RemoveVideo - 200 null text/plain; charset=utf-8 24.519ms
2024-05-26 20:42:50.024 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null null
2024-05-26 20:42:50.024 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:42:50.024 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:42:50.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:42:50.033 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:42:50.035 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:42:50.035 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 11.4537ms
2024-05-26 20:42:50.035 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:42:50.036 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 11.7933 ms
2024-05-26 20:42:50.036 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 200 null application/json; charset=utf-8 12.2975ms
2024-05-26 20:43:02.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 20:43:02.011 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:43:02.012 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:43:02.013 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:43:02.015 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 20:43:02.016 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:43:02.016 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 4.1238ms
2024-05-26 20:43:02.016 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:43:02.016 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 4.4748 ms
2024-05-26 20:43:02.016 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 4.946ms
2024-05-26 20:43:12.838 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/Playlists/Delete?id=0409eb08-11d9-4a05-a400-f7b078c8e861 - null null
2024-05-26 20:43:12.838 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.Delete (ArabTube.Api)'
2024-05-26 20:43:12.841 +03:00 [INF] Route matched with {action = "Delete", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:43:12.844 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:43:12.846 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:43:12.847 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:43:12.847 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.Delete (ArabTube.Api) in 5.9066ms
2024-05-26 20:43:12.847 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.Delete (ArabTube.Api)'
2024-05-26 20:43:12.847 +03:00 [INF] HTTP DELETE /api/Playlists/Delete responded 400 in 9.0340 ms
2024-05-26 20:43:12.847 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/Playlists/Delete?id=0409eb08-11d9-4a05-a400-f7b078c8e861 - 400 null text/plain; charset=utf-8 9.3298ms
2024-05-26 20:43:46.481 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Playlist?id=f0252736-838a-47ce-aa1c-09371c282889 - null null
2024-05-26 20:43:46.482 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylists (ArabTube.Api)'
2024-05-26 20:43:46.488 +03:00 [INF] Route matched with {action = "GetPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylists(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:43:46.494 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2024-05-26 20:43:46.498 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0 AND [p].[IsPrivate] = CAST(0 AS bit)
2024-05-26 20:43:46.499 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:43:46.499 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylists (ArabTube.Api) in 10.3142ms
2024-05-26 20:43:46.499 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylists (ArabTube.Api)'
2024-05-26 20:43:46.499 +03:00 [INF] HTTP GET /api/Playlists/Playlist responded 200 in 17.1810 ms
2024-05-26 20:43:46.499 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Playlist?id=f0252736-838a-47ce-aa1c-09371c282889 - 200 null application/json; charset=utf-8 18.292ms
2024-05-26 20:44:14.021 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 20:44:14.022 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:44:14.022 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:44:14.029 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:44:14.030 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 20:44:14.030 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:44:14.031 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 8.5547ms
2024-05-26 20:44:14.031 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:44:14.031 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 8.8880 ms
2024-05-26 20:44:14.031 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 9.9522ms
2024-05-26 20:44:29.373 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Playlists/Update - application/json 111
2024-05-26 20:44:29.374 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.Update (ArabTube.Api)'
2024-05-26 20:44:29.376 +03:00 [INF] Route matched with {action = "Update", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(ArabTube.Entities.DtoModels.PlaylistDTOs.UpdatePlaylistDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:44:29.380 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:44:29.384 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:44:29.391 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (Size = 450), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Playlists] SET [Description] = @p0, [Title] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-05-26 20:44:29.391 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 20:44:29.391 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.Update (ArabTube.Api) in 14.4074ms
2024-05-26 20:44:29.391 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.Update (ArabTube.Api)'
2024-05-26 20:44:29.391 +03:00 [INF] HTTP PUT /api/Playlists/Update responded 200 in 17.4277 ms
2024-05-26 20:44:29.391 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7204/api/Playlists/Update - 200 null text/plain; charset=utf-8 17.892ms
2024-05-26 20:44:53.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 20:44:53.318 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:44:53.318 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:44:53.321 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:44:53.323 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 20:44:53.323 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:44:53.323 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 5.146ms
2024-05-26 20:44:53.323 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 20:44:53.323 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 5.7767 ms
2024-05-26 20:44:53.324 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 6.4255ms
2024-05-26 20:44:59.926 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null null
2024-05-26 20:44:59.926 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:44:59.926 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:44:59.930 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:44:59.936 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 20:44:59.937 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 20:44:59.938 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 11.4459ms
2024-05-26 20:44:59.938 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 20:44:59.938 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 11.8034 ms
2024-05-26 20:44:59.938 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 200 null application/json; charset=utf-8 12.0412ms
2024-05-26 20:45:08.635 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:45:08.641 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 6.2782ms
2024-05-26 20:45:08.698 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:45:08.699 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.7103ms
2024-05-26 20:45:08.742 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:45:08.759 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 17.5761ms
2024-05-26 20:45:09.041 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:45:09.050 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1346ms
2024-05-26 20:45:30.035 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Account/Login - application/json 59
2024-05-26 20:45:30.038 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api)'
2024-05-26 20:45:30.038 +03:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ArabTube.Entities.DtoModels.UserDTOs.LoginDto) on controller ArabTube.Api.Controllers.AccountController (ArabTube.Api).
2024-05-26 20:45:30.044 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-05-26 20:45:30.116 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2024-05-26 20:45:30.118 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-26 20:45:30.119 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-05-26 20:45:30.119 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.AuthModels.AuthResult'.
2024-05-26 20:45:30.119 +03:00 [INF] Executed action ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api) in 81.2748ms
2024-05-26 20:45:30.119 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.AccountController.Login (ArabTube.Api)'
2024-05-26 20:45:30.120 +03:00 [INF] HTTP POST /api/Account/Login responded 200 in 81.6819 ms
2024-05-26 20:45:30.120 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Account/Login - 200 null application/json; charset=utf-8 85.3553ms
2024-05-26 20:46:00.209 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 20:46:00.213 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 20:46:00.216 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:46:00.219 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:46:00.221 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:46:00.226 +03:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-26 20:46:00.238 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-26 20:46:00.385 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 169.2545ms
2024-05-26 20:46:00.385 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 20:46:00.386 +03:00 [ERR] HTTP POST /api/Playlists/Save responded 500 in 174.2253 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 139
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 20:46:00.397 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 139
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 20:46:00.432 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 500 null text/plain; charset=utf-8 222.4927ms
2024-05-26 20:47:07.338 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 20:47:07.339 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 20:47:07.339 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:47:07.349 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:47:07.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:47:39.963 +03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-26 20:47:39.965 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-26 20:47:40.112 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 32773.67ms
2024-05-26 20:47:40.113 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 20:47:40.113 +03:00 [ERR] HTTP POST /api/Playlists/Save responded 500 in 32774.4889 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 139
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 20:47:40.115 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 139
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 20:47:40.119 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 500 null text/plain; charset=utf-8 32780.9615ms
2024-05-26 20:48:11.261 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 20:48:11.261 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 20:48:11.261 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:48:11.270 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:48:11.272 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:48:46.845 +03:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-26 20:48:46.847 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-26 20:48:46.988 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 35727.3376ms
2024-05-26 20:48:46.989 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 20:48:46.989 +03:00 [ERR] HTTP POST /api/Playlists/Save responded 500 in 35728.2665 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 139
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 20:48:46.991 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e0aad0fb-9338-48fd-845a-bd9f016ef935
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete() in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\UnitOfWork.cs:line 59
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 139
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 20:48:46.993 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 500 null text/plain; charset=utf-8 35732.9441ms
2024-05-26 20:56:41.059 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 20:56:41.251 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 20:56:41.251 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 20:56:41.253 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 20:56:41.253 +03:00 [INF] Hosting environment: Development
2024-05-26 20:56:41.253 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 20:56:44.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:56:45.133 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 225.0109ms
2024-05-26 20:56:45.166 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:56:45.170 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.9206ms
2024-05-26 20:56:45.210 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:56:45.242 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.6116ms
2024-05-26 20:56:45.523 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:56:45.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.6751ms
2024-05-26 20:57:16.994 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0409eb08-11d9-4a05-a400-f7b078c8e861 - null 0
2024-05-26 20:57:17.054 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-05-26 20:57:17.064 +03:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-05-26 20:57:17.069 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-05-26 20:57:17.072 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-05-26 20:57:17.073 +03:00 [INF] HTTP POST /api/Playlists/Save responded 401 in 65.3362 ms
2024-05-26 20:57:17.073 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0409eb08-11d9-4a05-a400-f7b078c8e861 - 401 0 null 79.6045ms
2024-05-26 20:58:09.017 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:58:09.029 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 12.4195ms
2024-05-26 20:58:09.129 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:58:09.130 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 2.7227ms
2024-05-26 20:58:09.164 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:58:09.183 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 19.4359ms
2024-05-26 20:58:09.517 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:58:09.528 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.3461ms
2024-05-26 20:58:54.863 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0409eb08-11d9-4a05-a400-f7b078c8e861 - null 0
2024-05-26 20:58:54.912 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 20:58:54.930 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 20:58:56.218 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 20:58:56.343 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 20:58:56.371 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 20:58:56.375 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 1442.0197ms
2024-05-26 20:58:56.375 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 20:58:56.376 +03:00 [INF] HTTP POST /api/Playlists/Save responded 400 in 1503.7171 ms
2024-05-26 20:58:56.380 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0409eb08-11d9-4a05-a400-f7b078c8e861 - 400 null text/plain; charset=utf-8 1518.0241ms
2024-05-26 20:59:22.960 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 20:59:22.970 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 10.0412ms
2024-05-26 20:59:23.063 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 20:59:23.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.9367ms
2024-05-26 20:59:23.070 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 20:59:23.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.8614ms
2024-05-26 20:59:23.402 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 20:59:23.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.4416ms
2024-05-26 21:00:04.044 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=e87bee48-a314-48fe-8bc2-9f27c61422a4 - null 0
2024-05-26 21:00:04.050 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:00:04.054 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:00:04.107 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:00:04.111 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:00:04.115 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 21:00:04.115 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 61.0193ms
2024-05-26 21:00:04.115 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:00:04.115 +03:00 [INF] HTTP POST /api/Playlists/Save responded 400 in 70.0973 ms
2024-05-26 21:00:04.115 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=e87bee48-a314-48fe-8bc2-9f27c61422a4 - 400 null text/plain; charset=utf-8 74.1977ms
2024-05-26 21:00:14.807 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 21:00:14.809 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:00:14.810 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:00:14.828 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:00:14.830 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:00:38.192 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-26 21:00:38.205 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ArabTube.Services.DataServices.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d43e67eb-20be-48c6-8b73-66198bab6dfe
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d43e67eb-20be-48c6-8b73-66198bab6dfe
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-26 21:00:38.343 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 23532.818ms
2024-05-26 21:00:38.343 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:00:38.343 +03:00 [ERR] HTTP POST /api/Playlists/Save responded 500 in 23534.0478 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d43e67eb-20be-48c6-8b73-66198bab6dfe
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete()
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId)
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\PlaylistsController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 21:00:38.352 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Playlists'. Cannot insert duplicate key in object 'dbo.Playlists'. The duplicate key value is (0bb07897-2e0a-4ec9-b03a-7e8a210dcca6).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d43e67eb-20be-48c6-8b73-66198bab6dfe
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.UnitOfWork.Complete()
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId)
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\PlaylistsController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 21:00:38.357 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 500 null text/plain; charset=utf-8 23550.3379ms
2024-05-26 21:01:30.925 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 21:01:30.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 11.8663ms
2024-05-26 21:01:31.025 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 21:01:31.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 0.6357ms
2024-05-26 21:01:31.033 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 21:01:31.040 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 6.857ms
2024-05-26 21:01:31.392 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 21:01:31.397 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.4355ms
2024-05-26 21:01:49.824 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 21:01:49.824 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:01:49.827 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:01:49.830 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:01:49.833 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:01:49.844 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-26 21:01:49.849 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 21:01:49.849 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 21.2818ms
2024-05-26 21:01:49.849 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:01:49.849 +03:00 [INF] HTTP POST /api/Playlists/Save responded 200 in 24.5853 ms
2024-05-26 21:01:49.849 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 200 null text/plain; charset=utf-8 25.203ms
2024-05-26 21:02:04.433 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 21:02:04.436 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:02:04.436 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:02:04.449 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:02:04.453 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:02:04.458 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-26 21:02:04.458 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 21:02:04.458 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 22.2139ms
2024-05-26 21:02:04.458 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:02:04.458 +03:00 [INF] HTTP POST /api/Playlists/Save responded 200 in 22.7673 ms
2024-05-26 21:02:04.458 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 200 null text/plain; charset=utf-8 25.136ms
2024-05-26 21:09:21.860 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 21:09:22.017 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 21:09:22.017 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 21:09:22.018 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 21:09:22.019 +03:00 [INF] Hosting environment: Development
2024-05-26 21:09:22.019 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 21:09:22.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 21:09:22.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 174.7505ms
2024-05-26 21:09:22.503 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 21:09:22.503 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 21:09:22.506 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 3.4427ms
2024-05-26 21:09:22.536 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.9115ms
2024-05-26 21:09:22.809 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 21:09:22.915 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.0337ms
2024-05-26 21:09:44.158 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 21:09:44.242 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:09:44.258 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:09:45.568 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:09:45.687 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:09:45.717 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__parentPlaylistId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[ParentPlaylistId] = @__parentPlaylistId_0 AND [p].[UserId] = @__userId_1
2024-05-26 21:09:45.835 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 1574.2325ms
2024-05-26 21:09:45.835 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:09:45.837 +03:00 [ERR] HTTP POST /api/Playlists/Save responded 500 in 1671.4541 ms
System.InvalidOperationException: Sequence contains more than one element.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.PlaylistRepository.IsPlaylistNotSaved(String parentPlaylistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\PlaylistRepository.cs:line 78
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 137
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\PlaylistsController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 21:09:45.855 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains more than one element.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.PlaylistRepository.IsPlaylistNotSaved(String parentPlaylistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\PlaylistRepository.cs:line 78
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 137
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\PlaylistsController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 21:09:45.870 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 500 null text/plain; charset=utf-8 1713.0396ms
2024-05-26 21:11:05.856 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 21:11:05.867 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:11:05.867 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:11:05.914 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:11:05.916 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:11:05.917 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentPlaylistId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[ParentPlaylistId] = @__parentPlaylistId_0 AND [p].[UserId] = @__userId_1
2024-05-26 21:11:06.000 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 132.5686ms
2024-05-26 21:11:06.000 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:11:06.000 +03:00 [ERR] HTTP POST /api/Playlists/Save responded 500 in 136.0699 ms
System.InvalidOperationException: Sequence contains more than one element.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.PlaylistRepository.IsPlaylistNotSaved(String parentPlaylistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\PlaylistRepository.cs:line 78
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 137
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\PlaylistsController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-05-26 21:11:06.002 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Sequence contains more than one element.
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at ArabTube.Services.DataServices.Repositories.ImplementationClasses.PlaylistRepository.IsPlaylistNotSaved(String parentPlaylistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\DataServices\Repositories\ImplementationClasses\PlaylistRepository.cs:line 78
   at ArabTube.Services.ControllersServices.PlaylistServices.ImplementationClasses.PlaylistService.SavePlaylistAsync(String playlistId, String userId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Services\ControllersServices\PlaylistServices\ImplementationClasses\PlaylistService.cs:line 137
   at ArabTube.Api.Controllers.PlaylistsController.SavePlaylist(String playlistId) in E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api\Controllers\PlaylistsController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-26 21:11:06.003 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 500 null text/plain; charset=utf-8 158.5129ms
2024-05-26 21:11:43.893 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 21:11:43.898 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:11:43.898 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:11:43.917 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:11:43.923 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:11:43.925 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__parentPlaylistId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[ParentPlaylistId] = @__parentPlaylistId_0 AND [p].[UserId] = @__userId_1
2024-05-26 21:11:43.930 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 21:11:43.931 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 32.9701ms
2024-05-26 21:11:43.931 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:11:43.931 +03:00 [INF] HTTP POST /api/Playlists/Save responded 400 in 36.5419 ms
2024-05-26 21:11:43.931 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 400 null text/plain; charset=utf-8 45.012ms
2024-05-26 21:11:52.758 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 21:11:52.759 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 21:11:52.762 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:11:52.765 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:11:52.774 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 21:11:52.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 21:11:52.791 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 28.7961ms
2024-05-26 21:11:52.791 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 21:11:52.791 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 32.4350 ms
2024-05-26 21:11:52.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 33.1156ms
2024-05-26 21:12:03.808 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=8e66b717-6a4f-4a6e-909d-0b03efb513c8 - null null
2024-05-26 21:12:03.808 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 21:12:03.811 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:12:03.815 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:12:03.859 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 21:12:03.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 21:12:03.904 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 92.7858ms
2024-05-26 21:12:03.904 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 21:12:03.904 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 96.1623 ms
2024-05-26 21:12:03.904 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=8e66b717-6a4f-4a6e-909d-0b03efb513c8 - 200 null application/json; charset=utf-8 96.5522ms
2024-05-26 21:12:13.727 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7204/api/Playlists/Update - application/json 106
2024-05-26 21:12:13.728 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.Update (ArabTube.Api)'
2024-05-26 21:12:13.731 +03:00 [INF] Route matched with {action = "Update", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(ArabTube.Entities.DtoModels.PlaylistDTOs.UpdatePlaylistDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:12:13.750 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:12:13.753 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:12:13.754 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 21:12:13.754 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.Update (ArabTube.Api) in 22.8732ms
2024-05-26 21:12:13.754 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.Update (ArabTube.Api)'
2024-05-26 21:12:13.754 +03:00 [INF] HTTP PUT /api/Playlists/Update responded 400 in 26.3595 ms
2024-05-26 21:12:13.754 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7204/api/Playlists/Update - 400 null text/plain; charset=utf-8 26.8235ms
2024-05-26 21:12:22.586 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/Playlists/Delete?id=8e66b717-6a4f-4a6e-909d-0b03efb513c8 - null null
2024-05-26 21:12:22.586 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.Delete (ArabTube.Api)'
2024-05-26 21:12:22.590 +03:00 [INF] Route matched with {action = "Delete", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:12:22.593 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:12:22.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:12:22.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId]
FROM [PlaylistVideos] AS [p]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 21:12:22.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__playlistId_0
2024-05-26 21:12:22.608 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[ParentPlaylistId] = @__playlistId_0
2024-05-26 21:12:22.692 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Playlists]
OUTPUT 1
WHERE [Id] = @p0;
2024-05-26 21:12:22.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 21:12:22.703 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.Delete (ArabTube.Api) in 113.0126ms
2024-05-26 21:12:22.703 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.Delete (ArabTube.Api)'
2024-05-26 21:12:22.703 +03:00 [INF] HTTP DELETE /api/Playlists/Delete responded 200 in 117.6327 ms
2024-05-26 21:12:22.704 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/Playlists/Delete?id=8e66b717-6a4f-4a6e-909d-0b03efb513c8 - 200 null text/plain; charset=utf-8 117.9359ms
2024-05-26 21:12:34.605 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - null 0
2024-05-26 21:12:34.605 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:12:34.606 +03:00 [INF] Route matched with {action = "SavePlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaylist(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:12:34.608 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:12:34.610 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:12:34.611 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__parentPlaylistId_0='?' (Size = 450), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[ParentPlaylistId] = @__parentPlaylistId_0 AND [p].[UserId] = @__userId_1
2024-05-26 21:12:34.638 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Playlists] ([Id], [Description], [IsDefult], [IsPrivate], [ParentPlaylistId], [Title], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-26 21:12:34.639 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 21:12:34.639 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api) in 33.7403ms
2024-05-26 21:12:34.639 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.SavePlaylist (ArabTube.Api)'
2024-05-26 21:12:34.639 +03:00 [INF] HTTP POST /api/Playlists/Save responded 200 in 34.3228 ms
2024-05-26 21:12:34.640 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Playlists/Save?playlistId=0bb07897-2e0a-4ec9-b03a-7e8a210dcca6 - 200 null text/plain; charset=utf-8 34.9733ms
2024-05-26 21:12:45.964 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - null null
2024-05-26 21:12:45.964 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 21:12:45.964 +03:00 [INF] Route matched with {action = "GetMyPlaylists", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPlaylists() on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:12:45.966 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:12:45.970 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[UserId] = @__userId_0
2024-05-26 21:12:45.971 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.GetPlaylistDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 21:12:45.971 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api) in 6.9731ms
2024-05-26 21:12:45.971 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetMyPlaylists (ArabTube.Api)'
2024-05-26 21:12:45.971 +03:00 [INF] HTTP GET /api/Playlists/MyPlaylist responded 200 in 7.3559 ms
2024-05-26 21:12:45.971 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/MyPlaylist - 200 null application/json; charset=utf-8 7.6861ms
2024-05-26 21:13:10.187 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=aa74e42a-7bf5-4c20-bce9-acfd9c223d0f - null null
2024-05-26 21:13:10.188 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 21:13:10.188 +03:00 [INF] Route matched with {action = "GetPlaylistVideos", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPlaylistVideos(System.String) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:13:10.191 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:13:10.215 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__playlistId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[PlaylistId], [p].[VideoId], [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [PlaylistVideos] AS [p]
INNER JOIN [Videos] AS [v] ON [p].[VideoId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [p].[PlaylistId] = @__playlistId_0
2024-05-26 21:13:10.220 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ArabTube.Entities.DtoModels.PlaylistDTOs.PlaylistVideoDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-26 21:13:10.220 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api) in 31.9149ms
2024-05-26 21:13:10.220 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.GetPlaylistVideos (ArabTube.Api)'
2024-05-26 21:13:10.220 +03:00 [INF] HTTP GET /api/Playlists/Video responded 200 in 32.3322 ms
2024-05-26 21:13:10.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Playlists/Video?id=aa74e42a-7bf5-4c20-bce9-acfd9c223d0f - 200 null application/json; charset=utf-8 32.9937ms
2024-05-26 21:13:19.219 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/Playlists/RemoveVideo - application/json 111
2024-05-26 21:13:19.220 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api)'
2024-05-26 21:13:19.223 +03:00 [INF] Route matched with {action = "RemoveVideoFromPlaylist", controller = "Playlists"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveVideoFromPlaylist(ArabTube.Entities.DtoModels.PlaylistDTOs.RemovePlaylistVideoDto) on controller ArabTube.Api.Controllers.PlaylistsController (ArabTube.Api).
2024-05-26 21:13:19.239 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 21:13:19.251 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 21:13:19.253 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Description], [p].[IsDefult], [p].[IsPrivate], [p].[ParentPlaylistId], [p].[Title], [p].[UserId]
FROM [Playlists] AS [p]
WHERE [p].[Id] = @__p_0
2024-05-26 21:13:19.253 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 21:13:19.253 +03:00 [INF] Executed action ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api) in 29.9563ms
2024-05-26 21:13:19.253 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.PlaylistsController.RemoveVideoFromPlaylist (ArabTube.Api)'
2024-05-26 21:13:19.253 +03:00 [INF] HTTP DELETE /api/Playlists/RemoveVideo responded 400 in 33.8107 ms
2024-05-26 21:13:19.253 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/Playlists/RemoveVideo - 400 null text/plain; charset=utf-8 34.0445ms
2024-05-26 23:39:08.914 +03:00 [INF] User profile is available. Using 'C:\Users\AHMD YASSER\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-05-26 23:39:09.086 +03:00 [INF] Now listening on: https://localhost:7204
2024-05-26 23:39:09.086 +03:00 [INF] Now listening on: http://localhost:5178
2024-05-26 23:39:09.087 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-26 23:39:09.088 +03:00 [INF] Hosting environment: Development
2024-05-26 23:39:09.088 +03:00 [INF] Content root path: E:\Software Engineering\ArabTube Final Project\ArabTube\ArabTube\ArabTube.Api
2024-05-26 23:39:12.355 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 23:39:12.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 167.4484ms
2024-05-26 23:39:12.554 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 23:39:12.559 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.4309ms
2024-05-26 23:39:12.593 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 23:39:12.622 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 29.4777ms
2024-05-26 23:39:12.896 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 23:39:13.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.5211ms
2024-05-26 23:39:26.085 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/index.html - null null
2024-05-26 23:39:26.093 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/index.html - 200 null text/html;charset=utf-8 8.329ms
2024-05-26 23:39:26.150 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - null null
2024-05-26 23:39:26.152 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 2.1388ms
2024-05-26 23:39:26.194 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/_vs/browserLink - null null
2024-05-26 23:39:26.218 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.9137ms
2024-05-26 23:39:26.494 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - null null
2024-05-26 23:39:26.504 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1364ms
2024-05-26 23:41:57.315 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Comments/Add - application/json 131
2024-05-26 23:41:57.405 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api)'
2024-05-26 23:41:57.420 +03:00 [INF] Route matched with {action = "AddComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddComment(ArabTube.Entities.DtoModels.CommentDTOs.AddCommentDto) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:41:58.777 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:41:58.927 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 23:41:58.976 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:41:59.115 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Comments] ([Id], [Content], [CreatedOn], [DisLikes], [IsUpdated], [Likes], [Mention], [ParentCommentId], [UserId], [VideoId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-05-26 23:41:59.128 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:41:59.132 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api) in 1709.0361ms
2024-05-26 23:41:59.132 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api)'
2024-05-26 23:41:59.134 +03:00 [INF] HTTP POST /api/Comments/Add responded 200 in 1810.1206 ms
2024-05-26 23:41:59.139 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Comments/Add - 200 null text/plain; charset=utf-8 1824.4605ms
2024-05-26 23:42:06.772 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - null null
2024-05-26 23:42:06.775 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:42:06.780 +03:00 [INF] Route matched with {action = "GetVideoComments", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVideoComments(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:42:06.837 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 23:42:06.880 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__videoId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId], [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t].[Id0], [t].[AccessFailedCount], [t].[BirthDate], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[Gender], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Comments] AS [c]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t] ON [c].[Id] = [t].[ParentCommentId]
WHERE [c].[VideoId] = @__videoId_0 AND [c].[ParentCommentId] = [c].[Id]
ORDER BY [c].[Id], [t].[Id]
2024-05-26 23:42:06.900 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-26 23:42:06.908 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api) in 127.9561ms
2024-05-26 23:42:06.908 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:42:06.909 +03:00 [INF] HTTP GET /api/Comments/Comments responded 200 in 134.4729 ms
2024-05-26 23:42:06.909 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - 200 null application/json; charset=utf-8 136.8069ms
2024-05-26 23:42:19.369 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:42:19.371 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:42:19.374 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:42:19.394 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:42:19.413 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t0].[Id], [t0].[Content], [t0].[CreatedOn], [t0].[DisLikes], [t0].[IsUpdated], [t0].[Likes], [t0].[Mention], [t0].[ParentCommentId], [t0].[UserId], [t0].[VideoId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[BirthDate], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
    FROM [Comments] AS [c]
    WHERE [c].[Id] = @__commentId_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[ParentCommentId]
ORDER BY [t].[Id], [t0].[Id]
2024-05-26 23:42:19.417 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto'.
2024-05-26 23:42:19.417 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 43.0005ms
2024-05-26 23:42:19.417 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:42:19.417 +03:00 [INF] HTTP GET /api/Comments/Comment responded 200 in 47.9412 ms
2024-05-26 23:42:19.418 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null application/json; charset=utf-8 48.9126ms
2024-05-26 23:42:54.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0MSIsImp0aSI6ImFlZTZiZjhlLTE2YjEtNGI1Mi1hOWZlLWI1NjI2YzQwYzg4ZSIsImVtYWlsIjoidGVzdEB0ZXN0LmNvbSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiYjc5M2U0YTEtYThmYy00Y2FmLTk0MTMtODliN2UyZDIzOTllIiwicm9sZXMiOiJVc2VyIiwiZXhwIjoxNzE5MzM3NTMwLCJpc3MiOiJTZWN1cmVBcGkiLCJhdWQiOiJTZWN1cmVBcGlVc2VyIn0.tYnEdp98SZm6vf-RJAzIy86lWFGLdy6suAri3STgkYU - null null
2024-05-26 23:42:54.184 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:42:54.184 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:42:54.194 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:42:54.195 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 23:42:54.195 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 8.7441ms
2024-05-26 23:42:54.195 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:42:54.195 +03:00 [INF] HTTP GET /api/Comments/Comment responded 400 in 11.4663 ms
2024-05-26 23:42:54.201 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJ0ZXN0MSIsImp0aSI6ImFlZTZiZjhlLTE2YjEtNGI1Mi1hOWZlLWI1NjI2YzQwYzg4ZSIsImVtYWlsIjoidGVzdEB0ZXN0LmNvbSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiYjc5M2U0YTEtYThmYy00Y2FmLTk0MTMtODliN2UyZDIzOTllIiwicm9sZXMiOiJVc2VyIiwiZXhwIjoxNzE5MzM3NTMwLCJpc3MiOiJTZWN1cmVBcGkiLCJhdWQiOiJTZWN1cmVBcGlVc2VyIn0.tYnEdp98SZm6vf-RJAzIy86lWFGLdy6suAri3STgkYU - 400 null text/plain; charset=utf-8 13.2329ms
2024-05-26 23:43:16.029 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:43:16.033 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:43:16.033 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:43:16.037 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:43:16.038 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t0].[Id], [t0].[Content], [t0].[CreatedOn], [t0].[DisLikes], [t0].[IsUpdated], [t0].[Likes], [t0].[Mention], [t0].[ParentCommentId], [t0].[UserId], [t0].[VideoId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[BirthDate], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
    FROM [Comments] AS [c]
    WHERE [c].[Id] = @__commentId_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[ParentCommentId]
ORDER BY [t].[Id], [t0].[Id]
2024-05-26 23:43:16.039 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto'.
2024-05-26 23:43:16.039 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 5.5881ms
2024-05-26 23:43:16.039 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:43:16.039 +03:00 [INF] HTTP GET /api/Comments/Comment responded 200 in 9.3881 ms
2024-05-26 23:43:16.039 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null application/json; charset=utf-8 9.8132ms
2024-05-26 23:43:21.758 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - null null
2024-05-26 23:43:21.759 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:43:21.759 +03:00 [INF] Route matched with {action = "GetVideoComments", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVideoComments(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:43:21.762 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 23:43:21.764 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__videoId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId], [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t].[Id0], [t].[AccessFailedCount], [t].[BirthDate], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[Gender], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Comments] AS [c]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t] ON [c].[Id] = [t].[ParentCommentId]
WHERE [c].[VideoId] = @__videoId_0 AND [c].[ParentCommentId] = [c].[Id]
ORDER BY [c].[Id], [t].[Id]
2024-05-26 23:43:21.765 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-26 23:43:21.765 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api) in 5.8288ms
2024-05-26 23:43:21.765 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:43:21.765 +03:00 [INF] HTTP GET /api/Comments/Comments responded 200 in 6.2872 ms
2024-05-26 23:43:21.765 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - 200 null application/json; charset=utf-8 6.7089ms
2024-05-26 23:44:39.907 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Comments/Add - application/json 167
2024-05-26 23:44:39.916 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api)'
2024-05-26 23:44:39.916 +03:00 [INF] Route matched with {action = "AddComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddComment(ArabTube.Entities.DtoModels.CommentDTOs.AddCommentDto) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:44:39.918 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:44:39.920 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 23:44:39.921 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:44:39.925 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Comments] ([Id], [Content], [CreatedOn], [DisLikes], [IsUpdated], [Likes], [Mention], [ParentCommentId], [UserId], [VideoId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-05-26 23:44:39.926 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:44:39.926 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api) in 9.7651ms
2024-05-26 23:44:39.926 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api)'
2024-05-26 23:44:39.926 +03:00 [INF] HTTP POST /api/Comments/Add responded 200 in 18.8018 ms
2024-05-26 23:44:39.926 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Comments/Add - 200 null text/plain; charset=utf-8 19.1643ms
2024-05-26 23:44:44.300 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:44:44.301 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:44:44.301 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:44:44.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:44:44.304 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t0].[Id], [t0].[Content], [t0].[CreatedOn], [t0].[DisLikes], [t0].[IsUpdated], [t0].[Likes], [t0].[Mention], [t0].[ParentCommentId], [t0].[UserId], [t0].[VideoId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[BirthDate], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
    FROM [Comments] AS [c]
    WHERE [c].[Id] = @__commentId_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[ParentCommentId]
ORDER BY [t].[Id], [t0].[Id]
2024-05-26 23:44:44.305 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto'.
2024-05-26 23:44:44.306 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 4.9744ms
2024-05-26 23:44:44.306 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:44:44.306 +03:00 [INF] HTTP GET /api/Comments/Comment responded 200 in 5.4013 ms
2024-05-26 23:44:44.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null application/json; charset=utf-8 5.7128ms
2024-05-26 23:44:50.264 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - null null
2024-05-26 23:44:50.265 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:44:50.265 +03:00 [INF] Route matched with {action = "GetVideoComments", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVideoComments(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:44:50.267 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 23:44:50.269 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__videoId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId], [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t].[Id0], [t].[AccessFailedCount], [t].[BirthDate], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[Gender], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Comments] AS [c]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t] ON [c].[Id] = [t].[ParentCommentId]
WHERE [c].[VideoId] = @__videoId_0 AND [c].[ParentCommentId] = [c].[Id]
ORDER BY [c].[Id], [t].[Id]
2024-05-26 23:44:50.270 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-26 23:44:50.270 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api) in 5.2418ms
2024-05-26 23:44:50.270 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:44:50.270 +03:00 [INF] HTTP GET /api/Comments/Comments responded 200 in 5.6324 ms
2024-05-26 23:44:50.270 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - 200 null application/json; charset=utf-8 5.9338ms
2024-05-26 23:45:17.820 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:45:17.821 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:45:17.821 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:45:17.826 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:45:17.833 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t0].[Id], [t0].[Content], [t0].[CreatedOn], [t0].[DisLikes], [t0].[IsUpdated], [t0].[Likes], [t0].[Mention], [t0].[ParentCommentId], [t0].[UserId], [t0].[VideoId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[BirthDate], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
    FROM [Comments] AS [c]
    WHERE [c].[Id] = @__commentId_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[ParentCommentId]
ORDER BY [t].[Id], [t0].[Id]
2024-05-26 23:45:17.833 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto'.
2024-05-26 23:45:17.833 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 12.4077ms
2024-05-26 23:45:17.834 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:45:17.834 +03:00 [INF] HTTP GET /api/Comments/Comment responded 200 in 12.9598 ms
2024-05-26 23:45:17.834 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null application/json; charset=utf-8 13.6218ms
2024-05-26 23:45:30.822 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Comments/Add - application/json 168
2024-05-26 23:45:30.823 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api)'
2024-05-26 23:45:30.823 +03:00 [INF] Route matched with {action = "AddComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddComment(ArabTube.Entities.DtoModels.CommentDTOs.AddCommentDto) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:45:30.826 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:45:30.827 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 23:45:30.829 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:45:30.832 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 4000), @p7='?' (Size = 450), @p8='?' (Size = 450), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Comments] ([Id], [Content], [CreatedOn], [DisLikes], [IsUpdated], [Likes], [Mention], [ParentCommentId], [UserId], [VideoId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-05-26 23:45:30.832 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:45:30.832 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api) in 9.0536ms
2024-05-26 23:45:30.832 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.AddComment (ArabTube.Api)'
2024-05-26 23:45:30.832 +03:00 [INF] HTTP POST /api/Comments/Add responded 200 in 10.2837 ms
2024-05-26 23:45:30.833 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Comments/Add - 200 null text/plain; charset=utf-8 10.7866ms
2024-05-26 23:45:35.063 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:45:35.063 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:45:35.063 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:45:35.066 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:45:35.067 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t0].[Id], [t0].[Content], [t0].[CreatedOn], [t0].[DisLikes], [t0].[IsUpdated], [t0].[Likes], [t0].[Mention], [t0].[ParentCommentId], [t0].[UserId], [t0].[VideoId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[BirthDate], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
    FROM [Comments] AS [c]
    WHERE [c].[Id] = @__commentId_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[ParentCommentId]
ORDER BY [t].[Id], [t0].[Id]
2024-05-26 23:45:35.068 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto'.
2024-05-26 23:45:35.068 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 5.2297ms
2024-05-26 23:45:35.068 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:45:35.068 +03:00 [INF] HTTP GET /api/Comments/Comment responded 200 in 5.5553 ms
2024-05-26 23:45:35.068 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null application/json; charset=utf-8 5.8324ms
2024-05-26 23:45:40.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - null null
2024-05-26 23:45:40.022 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:45:40.022 +03:00 [INF] Route matched with {action = "GetVideoComments", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVideoComments(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:45:40.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 23:45:40.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__videoId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId], [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t].[Id0], [t].[AccessFailedCount], [t].[BirthDate], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[Gender], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Comments] AS [c]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t] ON [c].[Id] = [t].[ParentCommentId]
WHERE [c].[VideoId] = @__videoId_0 AND [c].[ParentCommentId] = [c].[Id]
ORDER BY [c].[Id], [t].[Id]
2024-05-26 23:45:40.028 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.OrderedEnumerable`2[[ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto, ArabTube.Entities, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-26 23:45:40.028 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api) in 6.2093ms
2024-05-26 23:45:40.028 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:45:40.028 +03:00 [INF] HTTP GET /api/Comments/Comments responded 200 in 6.5600 ms
2024-05-26 23:45:40.028 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - 200 null application/json; charset=utf-8 7.1328ms
2024-05-26 23:45:53.507 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/UserLike?commentId=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:45:53.508 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api)'
2024-05-26 23:45:53.510 +03:00 [INF] Route matched with {action = "IsUserLikeComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:45:53.515 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:45:53.517 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:45:53.523 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CommentId], [c].[UserId]
FROM [CommentsLikes] AS [c]
WHERE [c].[CommentId] = @__p_0 AND [c].[UserId] = @__p_1
2024-05-26 23:45:53.524 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:45:53.524 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api) in 13.6251ms
2024-05-26 23:45:53.524 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api)'
2024-05-26 23:45:53.524 +03:00 [INF] HTTP GET /api/Comments/UserLike responded 200 in 16.7791 ms
2024-05-26 23:45:53.524 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/UserLike?commentId=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null text/plain; charset=utf-8 17.0534ms
2024-05-26 23:45:59.100 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/UserDisLike?commentId=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:45:59.100 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.IsUserDisLikeComment (ArabTube.Api)'
2024-05-26 23:45:59.102 +03:00 [INF] Route matched with {action = "IsUserDisLikeComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserDisLikeComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:45:59.107 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:45:59.124 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:45:59.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CommentId], [c].[UserId]
FROM [CommentsDislikes] AS [c]
WHERE [c].[CommentId] = @__p_0 AND [c].[UserId] = @__p_1
2024-05-26 23:45:59.130 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:45:59.130 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.IsUserDisLikeComment (ArabTube.Api) in 27.2767ms
2024-05-26 23:45:59.130 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.IsUserDisLikeComment (ArabTube.Api)'
2024-05-26 23:45:59.130 +03:00 [INF] HTTP GET /api/Comments/UserDisLike responded 200 in 29.8754 ms
2024-05-26 23:45:59.130 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/UserDisLike?commentId=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null text/plain; charset=utf-8 30.3237ms
2024-05-26 23:46:04.345 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Comments/Like?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null 0
2024-05-26 23:46:04.346 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.LikeComment (ArabTube.Api)'
2024-05-26 23:46:04.348 +03:00 [INF] Route matched with {action = "LikeComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:46:04.365 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:46:04.369 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:46:04.371 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CommentId], [c].[UserId]
FROM [CommentsLikes] AS [c]
WHERE [c].[CommentId] = @__p_0 AND [c].[UserId] = @__p_1
2024-05-26 23:46:04.398 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Comments] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
INSERT INTO [CommentsLikes] ([CommentId], [UserId])
VALUES (@p2, @p3);
2024-05-26 23:46:04.409 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:46:04.409 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.LikeComment (ArabTube.Api) in 61.2572ms
2024-05-26 23:46:04.409 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.LikeComment (ArabTube.Api)'
2024-05-26 23:46:04.410 +03:00 [INF] HTTP POST /api/Comments/Like responded 200 in 64.1542 ms
2024-05-26 23:46:04.410 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Comments/Like?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null text/plain; charset=utf-8 64.3965ms
2024-05-26 23:46:09.923 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/UserLike?commentId=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:46:09.924 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api)'
2024-05-26 23:46:09.924 +03:00 [INF] Route matched with {action = "IsUserLikeComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:46:09.926 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:46:09.929 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:46:09.930 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CommentId], [c].[UserId]
FROM [CommentsLikes] AS [c]
WHERE [c].[CommentId] = @__p_0 AND [c].[UserId] = @__p_1
2024-05-26 23:46:09.936 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:46:09.936 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api) in 11.9746ms
2024-05-26 23:46:09.936 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api)'
2024-05-26 23:46:09.936 +03:00 [INF] HTTP GET /api/Comments/UserLike responded 200 in 12.5106 ms
2024-05-26 23:46:09.936 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/UserLike?commentId=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null text/plain; charset=utf-8 12.8448ms
2024-05-26 23:46:13.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:46:13.055 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:46:13.055 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:46:13.057 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:46:13.060 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t0].[Id], [t0].[Content], [t0].[CreatedOn], [t0].[DisLikes], [t0].[IsUpdated], [t0].[Likes], [t0].[Mention], [t0].[ParentCommentId], [t0].[UserId], [t0].[VideoId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[BirthDate], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
    FROM [Comments] AS [c]
    WHERE [c].[Id] = @__commentId_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[ParentCommentId]
ORDER BY [t].[Id], [t0].[Id]
2024-05-26 23:46:13.061 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto'.
2024-05-26 23:46:13.061 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 5.8941ms
2024-05-26 23:46:13.061 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:46:13.061 +03:00 [INF] HTTP GET /api/Comments/Comment responded 200 in 6.2170 ms
2024-05-26 23:46:13.061 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null application/json; charset=utf-8 6.4867ms
2024-05-26 23:46:18.467 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7204/api/Comments/Like?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null 0
2024-05-26 23:46:18.468 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.LikeComment (ArabTube.Api)'
2024-05-26 23:46:18.468 +03:00 [INF] Route matched with {action = "LikeComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LikeComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:46:18.474 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:46:18.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:46:18.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CommentId], [c].[UserId]
FROM [CommentsLikes] AS [c]
WHERE [c].[CommentId] = @__p_0 AND [c].[UserId] = @__p_1
2024-05-26 23:46:18.485 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (Size = 450), @p0='?' (DbType = Int32), @p2='?' (Size = 450), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Comments] SET [Likes] = @p0
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [CommentsLikes]
OUTPUT 1
WHERE [CommentId] = @p2 AND [UserId] = @p3;
2024-05-26 23:46:18.492 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:46:18.492 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.LikeComment (ArabTube.Api) in 24.841ms
2024-05-26 23:46:18.492 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.LikeComment (ArabTube.Api)'
2024-05-26 23:46:18.493 +03:00 [INF] HTTP POST /api/Comments/Like responded 200 in 25.1861 ms
2024-05-26 23:46:18.493 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7204/api/Comments/Like?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null text/plain; charset=utf-8 25.5052ms
2024-05-26 23:46:24.601 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/UserLike?commentId=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:46:24.602 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api)'
2024-05-26 23:46:24.602 +03:00 [INF] Route matched with {action = "IsUserLikeComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] IsUserLikeComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:46:24.604 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:46:24.608 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:46:24.611 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CommentId], [c].[UserId]
FROM [CommentsLikes] AS [c]
WHERE [c].[CommentId] = @__p_0 AND [c].[UserId] = @__p_1
2024-05-26 23:46:24.612 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:46:24.612 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api) in 10.3326ms
2024-05-26 23:46:24.612 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.IsUserLikeComment (ArabTube.Api)'
2024-05-26 23:46:24.612 +03:00 [INF] HTTP GET /api/Comments/UserLike responded 200 in 10.7209 ms
2024-05-26 23:46:24.612 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/UserLike?commentId=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null text/plain; charset=utf-8 10.9914ms
2024-05-26 23:46:27.931 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:46:27.932 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:46:27.932 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:46:27.934 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:46:27.937 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t0].[Id], [t0].[Content], [t0].[CreatedOn], [t0].[DisLikes], [t0].[IsUpdated], [t0].[Likes], [t0].[Mention], [t0].[ParentCommentId], [t0].[UserId], [t0].[VideoId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[BirthDate], [t0].[ConcurrencyStamp], [t0].[Email], [t0].[EmailConfirmed], [t0].[FirstName], [t0].[Gender], [t0].[LastName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
    FROM [Comments] AS [c]
    WHERE [c].[Id] = @__commentId_0
) AS [t]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[ParentCommentId]
ORDER BY [t].[Id], [t0].[Id]
2024-05-26 23:46:27.937 +03:00 [INF] Executing OkObjectResult, writing value of type 'ArabTube.Entities.DtoModels.CommentDTOs.GetCommentDto'.
2024-05-26 23:46:27.937 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 5.7275ms
2024-05-26 23:46:27.937 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:46:27.937 +03:00 [INF] HTTP GET /api/Comments/Comment responded 200 in 6.0642 ms
2024-05-26 23:46:27.938 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null application/json; charset=utf-8 6.3401ms
2024-05-26 23:47:43.416 +03:00 [INF] Request starting HTTP/2 DELETE https://localhost:7204/api/Comments/Delete?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:47:43.417 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.Delete (ArabTube.Api)'
2024-05-26 23:47:43.422 +03:00 [INF] Route matched with {action = "Delete", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:47:43.426 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-05-26 23:47:43.430 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:47:43.435 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[ParentCommentId] = @__commentId_0
2024-05-26 23:47:43.441 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__commentId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__commentId_0
2024-05-26 23:47:43.450 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p2='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Comments]
OUTPUT 1
WHERE [Id] = @p0;
DELETE FROM [Comments]
OUTPUT 1
WHERE [Id] = @p1;
DELETE FROM [Comments]
OUTPUT 1
WHERE [Id] = @p2;
2024-05-26 23:47:43.455 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-26 23:47:43.455 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.Delete (ArabTube.Api) in 33.1901ms
2024-05-26 23:47:43.455 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.Delete (ArabTube.Api)'
2024-05-26 23:47:43.455 +03:00 [INF] HTTP DELETE /api/Comments/Delete responded 200 in 39.1148 ms
2024-05-26 23:47:43.456 +03:00 [INF] Request finished HTTP/2 DELETE https://localhost:7204/api/Comments/Delete?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 200 null text/plain; charset=utf-8 39.3582ms
2024-05-26 23:47:47.279 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - null null
2024-05-26 23:47:47.279 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:47:47.279 +03:00 [INF] Route matched with {action = "GetComment", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetComment(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:47:47.281 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId]
FROM [Comments] AS [c]
WHERE [c].[Id] = @__p_0
2024-05-26 23:47:47.282 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 23:47:47.282 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api) in 2.5858ms
2024-05-26 23:47:47.282 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetComment (ArabTube.Api)'
2024-05-26 23:47:47.282 +03:00 [INF] HTTP GET /api/Comments/Comment responded 400 in 2.8856 ms
2024-05-26 23:47:47.282 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comment?id=e86721b9-48cd-4e0f-b4d1-4abdf2231f19 - 400 null text/plain; charset=utf-8 3.1403ms
2024-05-26 23:47:50.288 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - null null
2024-05-26 23:47:50.288 +03:00 [INF] Executing endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:47:50.288 +03:00 [INF] Route matched with {action = "GetVideoComments", controller = "Comments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVideoComments(System.String) on controller ArabTube.Api.Controllers.CommentsController (ArabTube.Api).
2024-05-26 23:47:50.291 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CreatedOn], [v].[Description], [v].[DisLikes], [v].[Flags], [v].[Likes], [v].[Thumbnail], [v].[Title], [v].[UpdatedOn], [v].[UserId], [v].[VideoUri], [v].[Views], [a].[Id], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [Videos] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[Id] = @__id_0
2024-05-26 23:47:50.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__videoId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Content], [c].[CreatedOn], [c].[DisLikes], [c].[IsUpdated], [c].[Likes], [c].[Mention], [c].[ParentCommentId], [c].[UserId], [c].[VideoId], [t].[Id], [t].[Content], [t].[CreatedOn], [t].[DisLikes], [t].[IsUpdated], [t].[Likes], [t].[Mention], [t].[ParentCommentId], [t].[UserId], [t].[VideoId], [t].[Id0], [t].[AccessFailedCount], [t].[BirthDate], [t].[ConcurrencyStamp], [t].[Email], [t].[EmailConfirmed], [t].[FirstName], [t].[Gender], [t].[LastName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Comments] AS [c]
LEFT JOIN (
    SELECT [c0].[Id], [c0].[Content], [c0].[CreatedOn], [c0].[DisLikes], [c0].[IsUpdated], [c0].[Likes], [c0].[Mention], [c0].[ParentCommentId], [c0].[UserId], [c0].[VideoId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[BirthDate], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[Gender], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [Comments] AS [c0]
    INNER JOIN [AspNetUsers] AS [a] ON [c0].[UserId] = [a].[Id]
) AS [t] ON [c].[Id] = [t].[ParentCommentId]
WHERE [c].[VideoId] = @__videoId_0 AND [c].[ParentCommentId] = [c].[Id]
ORDER BY [c].[Id], [t].[Id]
2024-05-26 23:47:50.293 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-05-26 23:47:50.293 +03:00 [INF] Executed action ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api) in 4.4153ms
2024-05-26 23:47:50.293 +03:00 [INF] Executed endpoint 'ArabTube.Api.Controllers.CommentsController.GetVideoComments (ArabTube.Api)'
2024-05-26 23:47:50.293 +03:00 [INF] HTTP GET /api/Comments/Comments responded 400 in 4.7181 ms
2024-05-26 23:47:50.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7204/api/Comments/Comments?id=506a0179-2ec0-4c54-90b9-d09be108e973 - 400 null text/plain; charset=utf-8 4.9962ms
